(function(f){if(!f.Contemplate){var b,m=0,j={},g={},k={},h={},n=0,o=0,i=0,p=["if","elseif","else","endif","for","elsefor","endfor","include"],l=["l","s","n","f","concat"],d={functions:null,controlConstructs:null,forExpr:null,quotes:null,specials:null,replacements:null},q=function(a,b){var c=null;this.id=null;if(a)this.id=a,c=b;this.setId=function(a){if(a)this.id=a;return this};this.render=function(a){if(c)return c(a);return""}};b={CACHE_TO_DISK_NONE:0,CACHE_TO_DISK_AUTOUPDATE:2,CACHE_TO_DISK_NOUPDATE:4,
init:function(){d.controlConstructs=RegExp("\\t\\s*%("+p.join("|")+")\\b\\s*\\((.*)\\)","g");d.forExpr=/^\s*\$([a-z0-9_]+?)\s* as \s*\$([a-z0-9_]+?)\s*=>\s*\$([a-z0-9_]+)\s*$/i;d.quotes=/'/g;d.specials=/[\r\t]/g;d.replacements=/\t\s*(.*?)\s*%>/g;l.length&&(d.functions=RegExp("%("+l.join("|")+")\\b","g"))},setLocaleStrings:function(a){h=b.merge(h,a)},setCacheDir:function(a){$__cacheDir=a},setCacheMode:function(){m=b.CACHE_TO_DISK_NONE},add:function(a){g=b.merge(g,a)},tpl:function(a,e){j[a]||(j[a]=
b.getCachedTemplate(a));var c=j[a];return e?c.render(e):c},t_if:function(a){o++;return"'; if ("+a+") { "},t_elseif:function(a){return"'; } elseif ("+a+") { "},t_else:function(){return"'; } else { "},t_elsefor:function(){i--;return"'; } } } else { "},t_endif:function(){o--;return"'; } "},t_for:function(a){n++;i++;var a=a.match(d.forExpr),b="$"+a[1],c="$"+a[2];return"'; if ("+b+" && Object.keys("+b+").length) { for (var "+c+" in "+b+") { if (Contemplate.hasOwn("+b+", "+c+")) { var "+("$"+a[3])+"="+
b+"["+c+"]; "},t_endfor:function(){n--;if(i>0)return i--,"'; } } } ";return"'; } "},t_include:function(a){k[a]||(k[a]=" "+b.parse(b.getTemplateContents(a))+"'; ");return k[a]},e:function(a){return a},s:function(a){return String(a)},n:function(a){return parseInt(a,10)},f:function(a){return parseFloat(a,10)},concat:function(){return Array.prototype.slice.call(arguments).join("")},locale:function(a){if(h[a])return h[a];return a},l:function(a){return b.locale(a)},doControlConstruct:function(a){if(a[1])switch(a[1]){case "if":return b.t_if(a[2]);
case "elseif":return b.t_elseif(a[2]);case "else":return b.t_else(a[2]);case "endif":return b.t_endif(a[2]);case "for":return b.t_for(a[2]);case "elsefor":return b.t_elsefor(a[2]);case "endfor":return b.t_endfor(a[2]);case "include":return b.t_include(a[2])}return a[0]},parseControlConstructs:function(a){a=a.split("%>").join("\n");a=a.replace(d.controlConstructs,function(a,c,d){return b.doControlConstruct([a,c,d])});return a=a.split("\n").join("%>")},parse:function(a){return l.length?b.parseControlConstructs(a.replace(d.specials,
" ").split("<%").join("\t").replace(d.quotes,"\\'").split("\n").join("' + \"\\n\" + '")).replace(d.functions,"Contemplate.$1").replace(d.replacements,"' + ( $1 ) + '").split("\t").join("'; ").split("%>").join(" $__p__ += '"):b.parseControlConstructs(a.replace(d.specials," ").split("<%").join("\t").replace(d.quotes,"\\'").split("\n").join("' + \"\\n\" + '")).replace(d.replacements,"' + ( $1 ) + '").split("\t").join("'; ").split("%>").join(" $__p__ += '")},getCachedTemplateName:function(a){return $__cacheDir+
a.replace(/[ -]/,"_")+".tpl.js"},getCachedTemplateClass:function(a){return"Contemplate_"+a.replace(/[ -]/,"_")+"_Cached"},getTemplateContents:function(a){if(g[a])return f.document.getElementById(g[a]).innerHTML;return""},createTemplateRenderFunction:function(a){a="for (var __n__ in $__o__) { if (Contemplate.hasOwn($__o__, __n__)) { $__o__['$'+__n__]=$__o__[__n__]; delete $__o__[__n__];} } var $__p__ = ''; with($__o__) { $__p__ += '"+b.parse(b.getTemplateContents(a))+"'; } return $__p__;";return new Function("$__o__",
a)},createCachedTemplate:function(a,e,c){a="(function(window) { \n/* Contemplate cached template '"+a+"' */ \nif (!window.['"+c+"']) { function "+c+"($id) { this.id=$id; }; "+c+".prototype.setId=function($id) { if ($id) {this.id=$id;} return this; }; "+c+".prototype.render=function($__o__) { for (var __n__ in $__o__) { if (Contemplate.hasOwn($__o__, __n__)) { $__o__['$'+__n__]=$__o__[__n__]; delete $__o__[__n__];} } var $__p__ = ''; with($__o__) { $__p__ += '"+b.parse(b.getTemplateContents(a))+"'; } return $__p__; }; window.['"+
c+"']="+c+"; } })(window);";return b.setCachedTemplate(e,a)},getCachedTemplate:function(a){switch(m){case b.CACHE_TO_DISK_NOUPDATE:var e=b.getCachedTemplateName(a),c=b.getCachedTemplateClass(a);is_file(e)||b.createCachedTemplate(a,e,c);if(is_file(e))return include(e),$tpl=new c,$tpl.setId(a),$tpl;break;case b.CACHE_TO_DISK_AUTOUPDATE:e=b.getCachedTemplateName(a);c=b.getCachedTemplateClass(a);(!is_file(e)||filemtime(e)<=filemtime(g[a]))&&b.createCachedTemplate(a,e,c);if(is_file(e))return include(e),
$tpl=new c,$tpl.setId(a),$tpl;break;default:return new q(a,b.createTemplateRenderFunction(a))}return null},setCachedTemplate:function(){return!1},merge:function(){var a=Array.prototype.slice.call(arguments);if(!(a.length<1)){for(var e=a.shift(),c=0,d=a.length;c<d;c++){var f=a[c];if(f)for(var g in f)b.hasOwn(f,g)&&(e[g]=f[g])}return e}},isArray:function(a){return Object.prototype.toString.call(a)==="[object Array]"},hasOwn:function(a,b){return a&&Object.prototype.hasOwnProperty.call(a,b)},log:function(a){f.console&&
f.console.log&&console.log(a)}};f.Contemplate=b;f.Contemplate.init()}})(window);
