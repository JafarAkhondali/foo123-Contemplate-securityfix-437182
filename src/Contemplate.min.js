(function(e){if(!e.Contemplate){var b,p=0,k={},i={},l={},j={},m="<%",f="%>",g=0,n=0,h=0,r=["if","elseif","else","endif","for","elsefor","endfor","embed","include"],o=["l","s","n","f","concat"],c={functions:null,controlConstructs:null,forExpr:null,quotes:null,specials:null,replacements:null},s=function(a,b){var d=null;this.id=null;if(a)this.id=a,d=b;this.setId=function(a){if(a)this.id=a;return this};this.render=function(a){if(d)return d(a);return""}};b={CACHE_TO_DISK_NONE:0,CACHE_TO_DISK_AUTOUPDATE:2,
CACHE_TO_DISK_NOUPDATE:4,init:function(){c.controlConstructs=RegExp("\\t\\s*%("+r.join("|")+")\\b\\s*\\((.*)\\)","g");c.forExpr=/^\s*\$([a-z0-9_]+?)\s* as \s*\$([a-z0-9_]+?)\s*=>\s*\$([a-z0-9_]+)\s*$/i;c.quotes=/'/g;c.specials=/[\r\t]/g;c.replacements=RegExp("\\t\\s*(.*?)\\s*"+f,"g");o.length&&(c.functions=RegExp("%("+o.join("|")+")\\b","g"))},setLocaleStrings:function(a){j=b.merge(j,a)},setTemplateSeparators:function(a,b){a&&(m=a);b&&(f=b);b&&(c.replacements=RegExp("\\t\\s*(.*?)\\s*"+f,"g"))},setCacheDir:function(a){$__cacheDir=
a},setCacheMode:function(){p=b.CACHE_TO_DISK_NONE},add:function(a){i=b.merge(i,a)},tpl:function(a,q){k[a]||(k[a]=b.getCachedTemplate(a));var d=k[a];return q?d.render(q):d},t_if:function(a){n++;return"'; if ("+a+") { "},t_elseif:function(a){return"'; } else if ("+a+") { "},t_else:function(){return"'; } else { "},t_elsefor:function(){h--;return"'; } } } else { "},t_endif:function(){n--;return"'; } "},t_for:function(a){g++;h++;var a=a.match(c.forExpr),b="$"+a[1],d="$"+a[2];return"'; if ("+b+" && Object.keys("+
b+").length) { for (var "+d+" in "+b+") { if (Contemplate.hasOwn("+b+", "+d+")) { var "+("$"+a[3])+"="+b+"["+d+"]; "},t_endfor:function(){if(h==g)return g--,h--,"'; } } } ";g--;return"'; } "},t_include:function(a){return t_embed(a)},t_embed:function(a){l[a]||(l[a]=" "+b.parse(b.getTemplateContents(a))+"'; ");return l[a]},e:function(a){return a},s:function(a){return String(a)},n:function(a){return parseInt(a,10)},f:function(a){return parseFloat(a,10)},concat:function(){return Array.prototype.slice.call(arguments).join("")},
locale:function(a){if(j[a])return j[a];return a},l:function(a){return b.locale(a)},doControlConstruct:function(a){if(a[1])switch(a[1]){case "if":return b.t_if(a[2]);case "elseif":return b.t_elseif(a[2]);case "else":return b.t_else(a[2]);case "endif":return b.t_endif(a[2]);case "for":return b.t_for(a[2]);case "elsefor":return b.t_elsefor(a[2]);case "endfor":return b.t_endfor(a[2]);case "embed":case "include":return b.t_embed(a[2])}return a[0]},parseControlConstructs:function(a){a=a.split(f).join("\n");
a=a.replace(c.controlConstructs,function(a,d,c){return b.doControlConstruct([a,d,c])});return a=a.split("\n").join(f)},parse:function(a){return o.length?b.parseControlConstructs(a.replace(c.specials," ").split(m).join("\t").replace(c.quotes,"\\'").split("\n").join("' + \"\\n\" + '")).replace(c.functions,"Contemplate.$1").replace(c.replacements,"' + ( $1 ) + '").split("\t").join("'; ").split(f).join(" $__p__ += '"):b.parseControlConstructs(a.replace(c.specials," ").split(m).join("\t").replace(c.quotes,
"\\'").split("\n").join("' + \"\\n\" + '")).replace(c.replacements,"' + ( $1 ) + '").split("\t").join("'; ").split(f).join(" $__p__ += '")},getCachedTemplateName:function(a){return $__cacheDir+a.replace(/[ -]/,"_")+".tpl.js"},getCachedTemplateClass:function(a){return"Contemplate_"+a.replace(/[ -]/,"_")+"_Cached"},getTemplateContents:function(a){if(i[a])return e.document.getElementById(i[a]).innerHTML;return""},createTemplateRenderFunction:function(a){b.reset();a="for (var __n__ in $__o__) { if (Contemplate.hasOwn($__o__, __n__)) { $__o__['$'+__n__]=$__o__[__n__]; delete $__o__[__n__];} } var $__p__ = ''; with($__o__) { $__p__ += '"+
b.parse(b.getTemplateContents(a))+"'; } return $__p__;";return new Function("$__o__",a)},createCachedTemplate:function(a,c,d){b.reset();a="(function(window) { \n/* Contemplate cached template '"+a+"' */ \nif (!window.['"+d+"']) { function "+d+"($id) { this.id=$id; }; "+d+".prototype.setId=function($id) { if ($id) {this.id=$id;} return this; }; "+d+".prototype.render=function($__o__) { for (var __n__ in $__o__) { if (Contemplate.hasOwn($__o__, __n__)) { $__o__['$'+__n__]=$__o__[__n__]; delete $__o__[__n__];} } var $__p__ = ''; with($__o__) { $__p__ += '"+
b.parse(b.getTemplateContents(a))+"'; } return $__p__; }; window.['"+d+"']="+d+"; } })(window);";return b.setCachedTemplate(c,a)},getCachedTemplate:function(a){switch(p){default:return new s(a,b.createTemplateRenderFunction(a))}},setCachedTemplate:function(){return!1},reset:function(){h=n=g=0},merge:function(){var a=Array.prototype.slice.call(arguments);if(!(a.length<1)){for(var c=a.shift(),d=0,f=a.length;d<f;d++){var e=a[d];if(e)for(var g in e)b.hasOwn(e,g)&&(c[g]=e[g])}return c}},isArray:function(a){return Object.prototype.toString.call(a)===
"[object Array]"},hasOwn:function(a,b){return a&&Object.prototype.hasOwnProperty.call(a,b)},log:function(a){e.console&&e.console.log&&console.log(a)}};e.Contemplate=b;e.Contemplate.init()}})(window);
