/**
*  Contemplate
*  Light-weight Template Engine for PHP, Python, Node and client-side JavaScript
*
*  @version: 0.5
*  https://github.com/foo123/Contemplate
*
*  @inspired by : Simple JavaScript Templating, John Resig - http://ejohn.org/ - MIT Licensed
*  http://ejohn.org/blog/javascript-micro-templating/
*
**/
!function(e,n,t){"object"==typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define(t):e[n]=t()}(this,"Contemplate",function(e){function n(e,n,t,r){var i=this.get_html_translation_table("HTML_ENTITIES",n),o="";if(e=null==e?"":e+"",!i)return!1;if(n&&"ENT_QUOTES"===n&&(i["'"]="&#039;"),r||null==r)for(o in i)i.hasOwnProperty(o)&&(e=e.split(o).join(i[o]));else e=e.replace(/([\s\S]*?)(&(?:#\d+|#x[\da-f]+|[a-zA-Z][\da-z]*);|$)/g,function(e,n,t){for(o in i)i.hasOwnProperty(o)&&(n=n.split(o).join(i[o]));return n+t});return e}function t(e){return e=(e+"").toString(),encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")}function r(e,n){var t,r=0;if(null===e||"undefined"==typeof e)return 0;if(e.constructor!==Array&&e.constructor!==Object)return 1;"COUNT_RECURSIVE"===n&&(n=1),1!=n&&(n=0);for(t in e)e.hasOwnProperty(t)&&(r++,1!=n||!e[t]||e[t].constructor!==Array&&e[t].constructor!==Object||(r+=this.count(e[t],1)));return r}function i(e){var n,t=function(e){var n=/\W*function\s+([\w\$]+)\s*\(/.exec(e);return n?n[1]:"(Anonymous)"},r=function(e){if(!e||"object"!=typeof e||"number"!=typeof e.length)return!1;var n=e.length;return e[e.length]="bogus",n!==e.length?(e.length-=1,!0):(delete e[e.length],!1)};return e&&"object"==typeof e?(this.php_js=this.php_js||{},this.php_js.ini=this.php_js.ini||{},n=this.php_js.ini["phpjs.objectsAsArrays"],r(e)||(!n||0!==parseInt(n.local_value,10)&&(!n.local_value.toLowerCase||"off"!==n.local_value.toLowerCase()))&&"[object Object]"===Object.prototype.toString.call(e)&&"Object"===t(e.constructor)):!1}function o(e){var n,t={};if(e&&"object"==typeof e&&e.change_key_case)return e.flip();for(n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function u(e,n,t){var r="undefined"!=typeof n,i=[],o=!!t,u=!0,a="";if(e&&"object"==typeof e&&e.change_key_case)return e.keys(n,t);for(a in e)e.hasOwnProperty(a)&&(u=!0,r&&(o&&e[a]!==n?u=!1:e[a]!=n&&(u=!1)),u&&(i[i.length]=a));return i}function a(e){var n=[],t="";if(e&&"object"==typeof e&&e.change_key_case)return e.values();for(t in e)n[n.length]=e[t];return n}function s(){var e=/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,n=arguments,t=0,r=n[t++],i=function(e,n,t,r){t||(t=" ");var i=e.length>=n?"":Array(1+n-e.length>>>0).join(t);return r?e+i:i+e},o=function(e,n,t,r,o,u){var a=r-e.length;return a>0&&(e=t||!o?i(e,r,u,t):e.slice(0,n.length)+i("",a,"0",!0)+e.slice(n.length)),e},u=function(e,n,t,r,u,a,s){var c=e>>>0;return t=t&&c&&{2:"0b",8:"0",16:"0x"}[n]||"",e=t+i(c.toString(n),a||0,"0",!1),o(e,t,r,u,s)},a=function(e,n,t,r,i,u){return null!=r&&(e=e.slice(0,r)),o(e,"",n,t,i,u)},s=function(e,r,s,c,l,_,f){var p,d,h,g,m;if("%%"==e)return"%";for(var v=!1,b="",O=!1,C=!1,j=" ",y=s.length,E=0;s&&y>E;E++)switch(s.charAt(E)){case" ":b=" ";break;case"+":b="+";break;case"-":v=!0;break;case"'":j=s.charAt(E+1);break;case"0":O=!0;break;case"#":C=!0}if(c=c?"*"==c?+n[t++]:"*"==c.charAt(0)?+n[c.slice(1,-1)]:+c:0,0>c&&(c=-c,v=!0),!isFinite(c))throw new Error("sprintf: (minimum-)width must be finite");switch(_=_?"*"==_?+n[t++]:"*"==_.charAt(0)?+n[_.slice(1,-1)]:+_:"fFeE".indexOf(f)>-1?6:"d"==f?0:void 0,m=r?n[r.slice(0,-1)]:n[t++],f){case"s":return a(String(m),v,c,_,O,j);case"c":return a(String.fromCharCode(+m),v,c,_,O);case"b":return u(m,2,C,v,c,_,O);case"o":return u(m,8,C,v,c,_,O);case"x":return u(m,16,C,v,c,_,O);case"X":return u(m,16,C,v,c,_,O).toUpperCase();case"u":return u(m,10,C,v,c,_,O);case"i":case"d":return p=+m||0,p=Math.round(p-p%1),d=0>p?"-":b,m=d+i(String(Math.abs(p)),_,"0",!1),o(m,d,v,c,O);case"e":case"E":case"f":case"F":case"g":case"G":return p=+m,d=0>p?"-":b,h=["toExponential","toFixed","toPrecision"]["efg".indexOf(f.toLowerCase())],g=["toString","toUpperCase"]["eEfFgG".indexOf(f)%2],m=d+Math.abs(p)[h](_),o(m,d,v,c,O)[g]();default:return e}};return r.replace(e,s)}function c(e,n){n=n?(n+"").replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1"):" \\s ";var t=new RegExp("^["+n+"]+","g");return(e+"").replace(t,"")}function l(e,n){n=n?(n+"").replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"\\$1"):" \\s ";var t=new RegExp("["+n+"]+$","g");return(e+"").replace(t,"")}function _(e,n){var t,r=0,i=0;for(e+="",n?(n+="",t=n.replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1")):t=" \n\r	\f            ​\u2028\u2029　",r=e.length,i=0;r>i;i++)if(-1===t.indexOf(e.charAt(i))){e=e.substring(i);break}for(r=e.length,i=r-1;i>=0;i--)if(-1===t.indexOf(e.charAt(i))){e=e.substring(0,i+1);break}return-1===t.indexOf(e.charAt(0))?e:""}function f(){return Math.floor((new Date).getTime()/1e3)}function p(e,n){var t,r,i,o=this,u=/\\?([a-z])/gi,a=function(e,n){return e=e.toString(),e.length<n?a("0"+e,n,"0"):e},s=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"];return i=function(e,n){return r[e]?r[e]():n},r={d:function(){return a(r.j(),2)},D:function(){return r.l().slice(0,3)},j:function(){return t.getDate()},l:function(){return s[r.w()]+"day"},N:function(){return r.w()||7},S:function(){var e=r.j();return 4>e|e>20&&(["st","nd","rd"][e%10-1]||"th")},w:function(){return t.getDay()},z:function(){var e=new Date(r.Y(),r.n()-1,r.j()),n=new Date(r.Y(),0,1);return Math.round((e-n)/864e5)},W:function(){var e=new Date(r.Y(),r.n()-1,r.j()-r.N()+3),n=new Date(e.getFullYear(),0,4);return a(1+Math.round((e-n)/864e5/7),2)},F:function(){return s[6+r.n()]},m:function(){return a(r.n(),2)},M:function(){return r.F().slice(0,3)},n:function(){return t.getMonth()+1},t:function(){return new Date(r.Y(),r.n(),0).getDate()},L:function(){var e=r.Y();return 0===e%4&0!==e%100|0===e%400},o:function(){var e=r.n(),n=r.W(),t=r.Y();return t+(12===e&&9>n?1:1===e&&n>9?-1:0)},Y:function(){return t.getFullYear()},y:function(){return r.Y().toString().slice(-2)},a:function(){return t.getHours()>11?"pm":"am"},A:function(){return r.a().toUpperCase()},B:function(){var e=3600*t.getUTCHours(),n=60*t.getUTCMinutes(),r=t.getUTCSeconds();return a(Math.floor((e+n+r+3600)/86.4)%1e3,3)},g:function(){return r.G()%12||12},G:function(){return t.getHours()},h:function(){return a(r.g(),2)},H:function(){return a(r.G(),2)},i:function(){return a(t.getMinutes(),2)},s:function(){return a(t.getSeconds(),2)},u:function(){return a(1e3*t.getMilliseconds(),6)},e:function(){throw"Not supported (see source code of date() for timezone on how to add support)"},I:function(){var e=new Date(r.Y(),0),n=Date.UTC(r.Y(),0),t=new Date(r.Y(),6),i=Date.UTC(r.Y(),6);return e-n!==t-i?1:0},O:function(){var e=t.getTimezoneOffset(),n=Math.abs(e);return(e>0?"-":"+")+a(100*Math.floor(n/60)+n%60,4)},P:function(){var e=r.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-t.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(u,i)},r:function(){return"D, d M Y H:i:s O".replace(u,i)},U:function(){return 0|t/1e3}},this.date=function(e,n){return o=this,t=void 0===n?new Date:n instanceof Date?new Date(n):new Date(1e3*n),e.replace(u,i)},this.date(e,n)}function d(e,n,t){for(var r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=p(n,t),o=0,u=r.length;u>o;o++)e[r[o]]&&(i=i.replace(r[o],e[r[o]]));return i}function h(e,n,t){var r;return r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),r.open(e,n,!1),r.send(t),200===r.status?r.responseText:""}var g,m="0.5",v=Object.prototype,b=Array.prototype,O=Function.prototype,C=O.call.bind(v.toString),j=O.call.bind(v.hasOwnProperty),y=O.call.bind(b.slice),E="undefined"!=typeof global&&"[object global]"==C(global),w=function(e){return"[object Array]"===C(e)||e instanceof Array},A=("undefined"!=typeof console&&console.log?function(e){console.log(e)}:function(){},E?require("fs"):null),D=A?A.writeFileSync:null,S=A?A.readFileSync:null,T=A?A.existsSync:null,k=A?A.statSync:null;if(A?A.realpathSync:null,!b.indexOf){var N=Math.abs;b.indexOf=function(e,n){var t,r,i=n?n:0;if(!this)throw new TypeError;if(r=this.length,0===r||i>=r)return-1;for(0>i&&(i=r-N(i)),t=i;r>t;t++)if(this[t]===e)return t;return-1}}var x=!1,M={},I={},R=0,P="./",L={},F={},U={},H={},K="<%",$="%>",B="",z="",Y="",G="' + \"\\n\" + '",q="",Z=E?require("os").EOL:"\n",J=null,W=0,X="    ",V=0,Q=0,en=0,nn=0,tn=[],rn=[],on=null,un=0,an=/[ -]/g,sn=/\n\r|\r\n|\n|\r/g,cn=/^[a-zA-Z_]/,ln=/^[0-9]/,_n=/^[a-zA-Z0-9_]/i,fn=/^\s/,pn={specials:null,replacements:null,functions:null,controls:null},dn=["include","template","extends","endblock","block","elsefor","endfor","for","set","unset","elseif","else","endif","if"],hn=["htmlselect","htmltable","plugin_([a-zA-Z0-9_]+)","has_key","lowercase","uppercase","camelcase","snakecase","pluralise","concat","ltrim","rtrim","trim","sprintf","tpl","uuid","html","url","count","ldate","date","now","locale","dq","q","l","s","n","f"],gn={},mn=function(e,n){if("undefined"==typeof n&&(n=W),n>=0){n=0===n?n:n+1;var t,r,i=new Array(n).join(X);for(e=e.split(sn),r=e.length,t=0;r>t;t++)e[t]=i+e[t];return e.join(Z)}return e},vn=function(e){e=e.split(",");var n=_(e.shift()),t=_(e.join(","));return"';"+Z+mn(n+" = ("+t+");")+Z},bn=function(e){return e&&e.length?(e=_(e),"';"+Z+mn('if ( "undefined" !== typeof ('+e+") ) delete "+e+";")+Z):"'; "+Z},On=function(e){var n,t;return Q++,n="';",t=Vn().split("__{{COND}}__").join(e),n+=mn(t),W++,n},Cn=function(e){var n,t;return n="';",t=Qn().split("__{{COND}}__").join(e),W--,n+=mn(t),W++,n},jn=function(){var e,n;return e="';",n=et(),W--,e+=mn(n),W++,e},yn=function(){var e,n;return Q--,e="';",n=nt(),W--,e+=mn(n)},En=function(e){var n,t;V++,en++,e=e.split(" as ");var r=_(e[0]),i=e[1].split("=>"),o=_(i[0])+"__RAW__",u=_(i[1])+"__RAW__",a={"__{{O}}__":r,"__{{K}}__":o,"__{{V}}__":u,"__{{ASSIGN1}}__":"var "+u+" = "+r+"["+o+"];","__{{ASSIGN2}}__":"__instance__.data['"+o+"'] = "+o+"; __instance__.data['"+u+"'] = "+u+";"};n="';",t=tt();for(var o in a)t=t.split(o).join(a[o]);return n+=mn(t),W+=3,n},wn=function(){var e,n;return en--,e="';",n=rt(),W+=-3,e+=mn(n),W+=1,e},An=function(){var e,n;return e="';",en==V?(V--,en--,n=it(),W+=-3,e+=mn(n)):(V--,n=ot(),W+=-1,e+=mn(n))},Dn=function(e){return U[e]||(qn(),Gn(),U[e]=" "+Un(g.getTemplateContents(e),!1)+"'; "+Z,Zn()),mn(U[e])},Sn=function(e){e=e.split(",");var n=_(e.shift()),t=e.join(",");return"' + %tpl( \""+n+'", '+t+" ); "+Z},Tn=function(e){return on=e,"'; "+Z},kn=function(e){return e=_(e),0>rn.indexOf(e)&&rn.push(e),nn++,tn.push(e),"' +  __||"+e+"||__"},Nn=function(){return nn?(nn--,"__||/"+tn.pop()+"||__"):""},xn=function(e,n,t){if(n)switch(t=t||"",n){case"set":return vn(t);case"unset":return bn(t);case"if":return On(t);case"elseif":return Cn(t);case"else":return jn(t);case"endif":return yn(t);case"for":return En(t);case"elsefor":return wn(t);case"endfor":return An(t);case"extends":return Tn(t);case"block":return kn(t);case"endblock":return Nn(t);case"template":return Sn(t);case"include":return Dn(t)}return e},Mn=function(e){for(var n,t,r,i,o,u,a,s,c,l={},_=rn.length;_--;){n=rn.pop(),r="__||"+n+"||__",i="__||/"+n+"||__",o=r.length,u=o+1,a=e.indexOf(r,0),s=e.indexOf(i,a+o),t=e.substr(a,s-a+u),t.length&&(t=t.substring(o,t.length-u).replace("+ '' +","+").replace("+ '';",";"),c=Xn().split("__{{CODE}}__").join(mn(t+"';",0)),l[n]=c);for(var f=!0;f;)e=e.substr(0,a)+"__instance__.renderBlock( '"+n+"' ); "+e.substr(s+u),f=-1<(a=e.indexOf(r,0)),s=f?e.indexOf(i,a+o):0}return[e.replace("+ '' +","+").replace("+ '';",";"),l]},In=function(e,n,t,r){for(var i=n,o=!1,u="";r>t&&(u=e[t++],i+=u,n!=u||o);)o=!o&&"\\"==u;return i},Rn=function(e,n,t,r){if(r=r||"VARSTR",cn.test(e[n])){var i,o,u,a,s,c,l,_,f,p,d,h=0,g={},m=[],v=0;for(o=e[n++];t>n&&_n.test(e[n]);)o+=e[n++];for(a=o,o="__instance__.data['"+o+"']",s=a.length,v=0;t>n&&fn.test(e[n]);)v++,n++;for(l=0;t>n&&("."==e[n]||"["==e[n]);){for(_=e[n++];t>n&&fn.test(e[n]);)v++,n++;if("."==_){for(u="";t>n&&_n.test(e[n]);)u+=e[n++];if(c=u.length,!c)break;o+="['"+u+"']",s+=v+1+c,v=0}else if("["==_){if(l++,f=e[n],'"'==f||"'"==f)u=In(e,f,n+1,t),h++,p="__##"+r+h+"##__",g[p]=u,o+=_+p,c=u.length,n+=c,s+=v+1+c,v=0;else if(ln.test(f)){for(u=e[n++];t>n&&ln.test(e[n]);)u+=e[n++];o+=_+u,c=u.length,s+=v+1+c,v=0}else if("$"==f)d=e.slice(n+1),i=Rn(d,0,d.length,r+"_"+h+"_"),i&&(u=i[i.length-1],o+=_+u[0][0],c=u[1],n+=c+1,s+=v+2+c,v=0,m=m.concat(i));else{if("]"!=f)break;if(!(l>0))break;l--,o+=_+e[n++],s+=v+2,v=0}for(;t>n&&fn.test(e[n]);)v++,n++;if("]"==e[n]){if(!(l>0))break;l--,o+=e[n++],s+=v+1,v=0}}for(;t>n&&fn.test(e[n]);)v++,n++}return m.push([[o,a],s,g]),m}return null},Pn=function(e){for(var n,t,r,i,o=e.length,u=0,a="",s="",c=0,l={},_={};o>u;)if(a=e[u++],'"'==a||"'"==a)n=In(e,a,u,o),c++,t="__##STR"+c+"##__",_[t]=n,s+=t,u+=n.length-1;else if("$"==a)if(n=Rn(e,u,o)){for(r=0;r<n.length;r++)i=n[r],c++,t="__##VAR"+c+"##__",l[t]=i[0],_=g.merge(_,i[2]);s+=t,u+=i[1]}else s+="$";else s+=a;return[s,l,_]},Ln=function(e){var n,t,r;e=Pn(e),n=e[2],t=e[1],e=e[0],e=e.replace(pn.controls,xn).replace(pn.functions,function(e,n,t){return t&&gn[t]?"Contemplate.plugin_"+t:"Contemplate."+n}).replace(pn.replacements,"' + ( $1 ) + '");for(r in t)e=e.split(r+"__RAW__").join(t[r][1]),e=e.split(r).join(t[r][0]);for(r in n)e=e.split(r).join(n[r]);return e.split("	").join(B).split("").join(mn(z))},Fn=function(e){var n,t,r,i,o;for(n=e.split(K),t=n.length,r=[],i=0;t>i;i++)o=n[i].split($),r.push(o[0]),o.length>1&&r.push(o[1]);return r},Un=function(e,n){var t,r,i,o,u,a;for(t=Fn(e),r=t.length,a=!1,i="",u=0;r>u;u++)o=t[u],a?(o=o.replace(pn.specials," "),o=Ln("	"+o+""),a=!1):(o=o.split("'").join("\\'").split("\n").join(q),a=!0),i+=o;return"undefined"==typeof n&&(n=!0),n?Mn(i):i.replace("+ '' +","+").replace("+ '';",";")},Hn=function(e){return P+e.replace(an,"_")+"_tpl.js"},Kn=function(e){return"Contemplate_"+e.replace(an,"_")+"_Cached"},$n=function(e){Gn();var n,t,r=Un(g.getTemplateContents(e)),i={};t=on?ut:at().split("__{{CODE}}__").join(mn("__p__ += '"+r[0]+"';",0));for(n in r[1])i[n]=new Function("__instance__",r[1][n]);return[new Function("__instance__",t),i]},Bn=function(e,n,t){Gn();var r,i,o,u,a,s=Un(g.getTemplateContents(e));u=[];for(o in s[1])a=Z+Wn().split("__{{BLOCK}}__").join(o).split("__{{BLOCKMETHOD}}__").join(o).split("__{{BLOCKMETHODCODE}}__").join(mn(s[1][o],1)),u.push(a);u=u.length?Z+"_blocks = { "+Z+mn(u.join(","+Z),1)+Z+"};"+Z:"",on?(r="this.setParent( '"+on+"' );",i=st):(r="",i=ct().split("__{{CODE}}__").join(mn("__p__ += '"+s[0]+"';",0)));var c;c=Y?Y:"";var l=Jn().split("__{{PREFIX_CODE}}__").join(c).split("__{{ID}}__").join(e).split("__{{CLASSNAME}}__").join(t).split("__{{PARENTCODE}}__").join(mn(r,2)).split("__{{BLOCKS}}__").join(mn(u,2)).split("__{{RENDERCODE}}__").join(mn(i,4));return Yn(n,l)},zn=function(e){if(H[e]){var n=$n(e),t=new lt(e,n[0]).setBlocks(n[1]);return on&&t.setParent(g.tpl(on)),t}switch(E||(R=g.CACHE_TO_DISK_NONE),R){case g.CACHE_TO_DISK_NOUPDATE:var r=Hn(e),i=Kn(e);if(T(r)||Bn(e,r,i),T(r)){var o=require(r),t=(new o).setId(e);return t}return null;case g.CACHE_TO_DISK_AUTOUPDATE:var r=Hn(e),i=Kn(e);if(T(r)){var u=k(r),a=k(F[e]);u.mtime.getTime()<=a.mtime.getTime()&&Bn(e,r,i)}else Bn(e,r,i);if(T(r)){var o=require(r),t=(new o).setId(e);return t}return null;case g.CACHE_TO_DISK_NONE:default:var n=$n(e),t=new lt(e,n[0]).setBlocks(n[1]);return on&&t.setParent(g.tpl(on)),t}return null},Yn=function(e,n){return D(e,n,{encoding:g.ENCODING})},Gn=function(){V=0,Q=0,en=0,W=0,nn=0,tn=[],rn=[],on=null},qn=function(){J.push([V,Q,en,W,nn,tn,rn,on])},Zn=function(){var e=J.pop();V=e[0],Q=e[1],en=e[2],W=e[3],nn=e[4],tn=e[5],rn=e[6],on=e[7]},Jn=function(e){return e=e||Z,["__{{PREFIX_CODE}}__","!function (root, moduleName, moduleDefinition) {","","    //","    // export the module","","    // node, CommonJS, etc..","    if ( 'object' == typeof(module) && module.exports ) module.exports = moduleDefinition();","","    // AMD, etc..","    else if ( 'function' == typeof(define) && define.amd ) define( moduleDefinition );","","    // browser, etc..","    else root[ moduleName ] = moduleDefinition();","","","}(this, '__{{CLASSNAME}}__', function( ) {","   /* Contemplate cached template '__{{ID}}__' */","   /* quasi extends main Contemplate class */","   ","   /* This is NOT used, Contemplate is accessible globally */","   /* var self = require('Contemplate'); */","   ","   /* constructor */","   function __{{CLASSNAME}}__(id)","   {","       /* initialize internal vars */","       var _parent = null, _blocks = null;","       ","       this.id = id;","       this.data = null;","       ","       ","       /* tpl-defined blocks render code starts here */","__{{BLOCKS}}__","       /* tpl-defined blocks render code ends here */","       ","       /* template methods */","       ","       this.setId = function(id) {","           if ( id ) this.id = id;","           return this;","       };","       ","       this.setParent = function(parent) {","           if ( parent )","           {","               if ( parent.substr )","                   _parent = Contemplate.tpl( parent );","               else","                   _parent = parent;","           }","           return this;","       };","       ","       /* render a tpl block method */","       this.renderBlock = function(block, __instance__) {","           if ( !__instance__ ) __instance__ = this;","           if ( _blocks && _blocks[block] ) return _blocks[block](__instance__);","           else if ( _parent ) return _parent.renderBlock(block, __instance__);","           return '';","       };","       ","       /* tpl render method */","       this.render = function(data, __instance__) {","           if ( !__instance__ ) __instance__ = this;","           var __p__ = '';","           if ( _parent )","           {","               __p__ = _parent.render(data, __instance__);","           }","           else","           {","               /* tpl main render code starts here */","__{{RENDERCODE}}__","               /* tpl main render code ends here */","           }","           this.data = null;","           return __p__;","       };","       ","       /* parent tpl assign code starts here */","__{{PARENTCODE}}__","       /* parent tpl assign code ends here */","   };","   ","   ","    // export it","    return __{{CLASSNAME}}__;","});",""].join(e)},Wn=function(e){return e=e||Z,["","/* tpl block render method for block '__{{BLOCK}}__' */","'__{{BLOCKMETHOD}}__': function(__instance__) {","__{{BLOCKMETHODCODE}}__","}",""].join(e)},Xn=function(e){return e=e||Z,["","var __p__ = '';","__{{CODE}}__","return __p__;",""].join(e)},Vn=function(e){return e=e||Z,["","if ( __{{COND}}__ )","{","",""].join(e)},Qn=function(e){return e=e||Z,["","}","else if ( __{{COND}}__ )","{","",""].join(e)},et=function(e){return e=e||Z,["","}","else","{","",""].join(e)},nt=function(e){return e=e||Z,["","}","",""].join(e)},tt=function(e){return e=e||Z,["","if ( __{{O}}__ && Object.keys(__{{O}}__).length )","{","   var __{{K}}__;","   for ( __{{K}}__ in __{{O}}__ )","   {","       if ( Contemplate.hasOwn(__{{O}}__, __{{K}}__) )","       {","          __{{ASSIGN1}}__","          __{{ASSIGN2}}__","       ",""].join(e)},rt=function(e){return e=e||Z,["","       }","   }","}","else","{  ","    ",""].join(e)},it=function(e){return e=e||Z,["","       }","   }","}","",""].join(e)},ot=function(e){return e=e||Z,["","}","",""].join(e)},ut="return '';",at=function(e){return e=e||Z,["","var __p__ = '';","__{{CODE}}__","return __p__;",""].join(e)},st="__p__ = '';",ct=function(e){return e=e||Z,["","__instance__.data = Contemplate.data( data );","__{{CODE}}__",""].join(e)},lt=function(e,n){var t=null,r=null,i=null;this.id=null,this.data=null,e&&(this.id=e,t=n),this.setId=function(e){return e&&(this.id=e),this},this.setParent=function(e){return e&&(r=e.substr?Contemplate.tpl(e):e),this},this.setRenderFunction=function(e){return t=e,this},this.setBlocks=function(e){return i||(i={}),i=Contemplate.merge(i,e),this},this.renderBlock=function(e,n){return n||(n=this),i&&i[e]?i[e](n):r?r.renderBlock(e,n):""},this.render=function(e,n){var i="";return n||(n=this),r?i=r.render(e,n):t&&(n.data=Contemplate.data(e),i=t(n)),this.data=null,i}};return g={VERSION:m,CACHE_TO_DISK_NONE:0,CACHE_TO_DISK_AUTOUPDATE:2,CACHE_TO_DISK_NOUPDATE:4,ENCODING:"utf8",init:function(){x||(J=[],pn.specials=new RegExp("[\\n\\r\\v\\t]","g"),pn.vars=new RegExp("\\$[a-zA-Z_][a-zA-Z0-9_]*","gm"),pn.ids=new RegExp("\\$([a-zA-Z_][a-zA-Z0-9_]*)","gm"),pn.atts=new RegExp("\\.\\s*([a-zA-Z_][a-zA-Z0-9_]*)","gm"),pn.replacements=new RegExp("\\t[ ]*(.*?)[ ]*\\v","g"),pn.controls=new RegExp("\\t[ ]*%("+dn.join("|")+")\\b[ ]*\\((.*)\\)","g"),pn.functions=new RegExp("%("+hn.join("|")+")\\b","g"),q=G,B="'; "+Z,z=Z+"__p__ += '",x=!0)},addPlugin:function(e,n){e&&n&&(gn[e]=!0,g["plugin_"+e]=n)},setPrefixCode:function(e){e&&(Y=""+e)},setLocaleStrings:function(e){M=g.merge(M,e)},clearLocaleStrings:function(){M={}},setPlurals:function(e){if(e){for(var n in e)null==e[n]&&(e[n]=n+"s");I=g.merge(I,e)}},clearPlurals:function(){I={}},setTemplateSeparators:function(e){e&&(e.left&&(K=""+e.left),e.right&&($=""+e.right))},setPreserveLines:function(e){"undefined"==typeof e&&(e=!0),q=e?G:""},setCacheDir:function(e){P=l(e,"/")+"/"},setCacheMode:function(e){R=E?e:g.CACHE_TO_DISK_NONE},clearCache:function(e){L={},e&&(U={})},add:function(e){if(e){for(var n in e)w(e[n])&&(e[n][0]&&(H[n]=e[n][0]),delete e[n]);F=g.merge(F,e)}},addInline:function(e){H=g.merge(H,e)},tpl:function(e,n,t){(t||!L[e])&&(L[e]=zn(e));var r=L[e];return n?r.render(n):r},html:function(e){return n(e,"ENT_COMPAT","UTF-8")},url:function(e){return t(e)},count:r,has_key:function(n){var t=C(n);if(!n||"[object Array]"!=t&&"[object Object]"!=t)return!1;var r,i,o,u=y(arguments);for(u.shift(),r=u.length,o=n,i=0;r>i;i++){if(e===o[u[i]])return!1;o=o[u[i]]}return!0},q:function(e){return"'"+e+"'"},dq:function(e){return'"'+e+'"'},s:function(e){return String(""+e)},n:function(e){return parseInt(e,10)},f:function(e){return parseFloat(e,10)},concat:function(){return y(arguments).join("")},trim:_,ltrim:c,rtrim:l,ucfirst:function(e){return e[0].toUpperCase()+e.substr(1)},lcfirst:function(e){return e[0].toLowerCase()+e.substr(1)},lowercase:function(e){return e.toLowerCase()},uppercase:function(e){return e.toUpperCase()},camelcase:function(e,n,t){return n=n||"_",t?e.split(n).map(g.ucfirst).join(""):g.lcfirst(e.split(n).map(g.ucfirst).join(""))},snakecase:function(e,n){return n=n||"_",e.replace(/([A-Z])/g,n+"$1").toLowerCase()},sprintf:s,time:f,date:function(e,n){return n||(n=f()),p(e,n)},ldate:function(e,n){return n||(n=f()),d(M,e,n)},locale:function(e){return j(M,e)?M[e]:e},pluralise:function(e,n){return I[e]?1!==n?I[e]:e:e},uuid:function(e){return[e||"UUID",++un,f()].join("_")},htmltable:function(e,n){e=g.merge({},e),n=g.merge({},n||{});var t,r,o,s,c,l,_,f,p,d="",h="",m="",v="",b=[],O=!1;if(d="<table",n.id&&(d+=" id='"+n.id+"'"),n["class"]&&(d+=" class='"+n["class"]+"'"),n.style&&(d+=" style='"+n.style+"'"),n.data)for(t in n.data)g.hasOwn(n.data,t)&&(d+=" data-"+t+"='"+n.data[t]+"'");d+=">",h="",(n.header||n.footer)&&(h="<td>"+u(e).join("</td><td>")+"</td>"),m="",n.header&&(m="<thead><tr>"+h+"</tr></thead>"),v="",n.footer&&(v="<tfoot><tr>"+h+"</tr></tfoot>"),d+=m,b=[],c=a(e);for(r in c)if(g.hasOwn(c,r))for(l=c[r],i(l)||(l=[l]),_=a(l),o=0,s=_.length;s>o;o++)b[o]||(b[o]=new Array(s)),b[o][r]=_[o];for(f=n.odd?n.odd:"odd",p=n.even?n.even:"even",O=!1,r=0,s=b.length;s>r;r++)d+=O?"<tr class='"+f+"'><td>"+b[r].join("</td><td>")+"</td></tr>":"<tr class='"+p+"'><td>"+b[r].join("</td><td>")+"</td></tr>",O=!O;return b=null,d+=v,d+="</table>"},htmlselect:function(e,n){e=g.merge({},e),n=g.merge({},n||{});var t,r,u,a,s="";if(s="<select",n.multiple&&(s+=" multiple"),n.disabled&&(s+=" disabled='disabled'"),n.name&&(s+=" name='"+n.name+"'"),n.id&&(s+=" id='"+n.id+"'"),n["class"]&&(s+=" class='"+n["class"]+"'"),n.style&&(s+=" style='"+n.style+"'"),n.data)for(t in n.data)g.hasOwn(n.data,t)&&(s+=" data-"+t+"='"+n.data[t]+"'");s+=">",n.selected?(i(n.selected)||(n.selected=[n.selected]),n.selected=o(n.selected)):n.selected={},n.optgroups&&(i(n.optgroups)||(n.optgroups=[n.optgroups]),n.optgroups=o(n.optgroups));for(t in e)if(g.hasOwn(e,t))if(u=e[t],n.optgroups&&n.optgroups[t]){s+="<optgroup label='"+t+"'>";for(r in u)g.hasOwn(u,r)&&(a=u[r],n.use_key?a=r:n.use_value&&(r=a),s+=g.hasOwn(n.selected,r)?"<option value='"+r+"' selected='selected'>"+a+"</option>":"<option value='"+r+"'>"+a+"</option>");s+="</optgroup>"}else n.use_key?u=t:n.use_value&&(t=u),s+=n.selected[t]?"<option value='"+t+"' selected='selected'>"+u+"</option>":"<option value='"+t+"'>"+u+"</option>";return s+="</select>"},getTemplateContents:function(e){return H[e]?H[e]:F[e]?E&&A?S(F[e],{encoding:g.ENCODING}):0===F[e].indexOf("#")?window.document.getElementById(F[e].substring(1)).innerHTML:h("GET",F[e]):""},hasOwn:function(e,n){return e&&j(e,n)},merge:function(){var e=y(arguments);if(!(e.length<1)){var n,t,r,i=e.shift(),o=e.length;for(n=0;o>n;n++)if(r=e[n])for(t in r)j(r,t)&&(i[t]=r[t]);return i}},data:function(e){if(w(e))return e.slice();var n,t,r={};for(n in e)j(e,n)&&(t=n,r[t]=e[n]);return r}},g.now=g.time,g.l=g.locale,g.init(),E&&(global.Contemplate=g),g});