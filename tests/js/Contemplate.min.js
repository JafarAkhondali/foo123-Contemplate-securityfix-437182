/**
*  Contemplate
*  Light-weight Template Engine for PHP, Python, Node and client-side JavaScript
*
*  @version: 0.4.5
*  https://github.com/foo123/Contemplate
*
*  @author: Nikos M.  http://nikos-web-development.netai.net/
*
*  @inspired by : Simple JavaScript Templating, John Resig - http://ejohn.org/ - MIT Licensed
*  http://ejohn.org/blog/javascript-micro-templating/
*
**/
!function(e,t,n){"object"==typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define(n):e[t]=n()}(this,"Contemplate",function(e){function t(e,t,n,r){var o=this.get_html_translation_table("HTML_ENTITIES",t),i="";if(e=null==e?"":e+"",!o)return!1;if(t&&"ENT_QUOTES"===t&&(o["'"]="&#039;"),r||null==r)for(i in o)o.hasOwnProperty(i)&&(e=e.split(i).join(o[i]));else e=e.replace(/([\s\S]*?)(&(?:#\d+|#x[\da-f]+|[a-zA-Z][\da-z]*);|$)/g,function(e,t,n){for(i in o)o.hasOwnProperty(i)&&(t=t.split(i).join(o[i]));return t+n});return e}function n(e){return e=(e+"").toString(),encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")}function r(e,t){var n,r=0;if(null===e||"undefined"==typeof e)return 0;if(e.constructor!==Array&&e.constructor!==Object)return 1;"COUNT_RECURSIVE"===t&&(t=1),1!=t&&(t=0);for(n in e)e.hasOwnProperty(n)&&(r++,1!=t||!e[n]||e[n].constructor!==Array&&e[n].constructor!==Object||(r+=this.count(e[n],1)));return r}function o(e){var t,n=function(e){var t=/\W*function\s+([\w\$]+)\s*\(/.exec(e);return t?t[1]:"(Anonymous)"},r=function(e){if(!e||"object"!=typeof e||"number"!=typeof e.length)return!1;var t=e.length;return e[e.length]="bogus",t!==e.length?(e.length-=1,!0):(delete e[e.length],!1)};return e&&"object"==typeof e?(this.php_js=this.php_js||{},this.php_js.ini=this.php_js.ini||{},t=this.php_js.ini["phpjs.objectsAsArrays"],r(e)||(!t||0!==parseInt(t.local_value,10)&&(!t.local_value.toLowerCase||"off"!==t.local_value.toLowerCase()))&&"[object Object]"===Object.prototype.toString.call(e)&&"Object"===n(e.constructor)):!1}function i(e){var t,n={};if(e&&"object"==typeof e&&e.change_key_case)return e.flip();for(t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function a(e,t,n){var r="undefined"!=typeof t,o=[],i=!!n,a=!0,u="";if(e&&"object"==typeof e&&e.change_key_case)return e.keys(t,n);for(u in e)e.hasOwnProperty(u)&&(a=!0,r&&(i&&e[u]!==t?a=!1:e[u]!=t&&(a=!1)),a&&(o[o.length]=u));return o}function u(e){var t=[],n="";if(e&&"object"==typeof e&&e.change_key_case)return e.values();for(n in e)t[t.length]=e[n];return t}function s(){var e=/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,t=arguments,n=0,r=t[n++],o=function(e,t,n,r){n||(n=" ");var o=e.length>=t?"":Array(1+t-e.length>>>0).join(n);return r?e+o:o+e},i=function(e,t,n,r,i,a){var u=r-e.length;return u>0&&(e=n||!i?o(e,r,a,n):e.slice(0,t.length)+o("",u,"0",!0)+e.slice(t.length)),e},a=function(e,t,n,r,a,u,s){var l=e>>>0;return n=n&&l&&{2:"0b",8:"0",16:"0x"}[t]||"",e=n+o(l.toString(t),u||0,"0",!1),i(e,n,r,a,s)},u=function(e,t,n,r,o,a){return null!=r&&(e=e.slice(0,r)),i(e,"",t,n,o,a)},s=function(e,r,s,l,c,_,f){var p,d,h,g,m;if("%%"==e)return"%";for(var C=!1,b="",v=!1,O=!1,y=" ",T=s.length,j=0;s&&T>j;j++)switch(s.charAt(j)){case" ":b=" ";break;case"+":b="+";break;case"-":C=!0;break;case"'":y=s.charAt(j+1);break;case"0":v=!0;break;case"#":O=!0}if(l=l?"*"==l?+t[n++]:"*"==l.charAt(0)?+t[l.slice(1,-1)]:+l:0,0>l&&(l=-l,C=!0),!isFinite(l))throw new Error("sprintf: (minimum-)width must be finite");switch(_=_?"*"==_?+t[n++]:"*"==_.charAt(0)?+t[_.slice(1,-1)]:+_:"fFeE".indexOf(f)>-1?6:"d"==f?0:void 0,m=r?t[r.slice(0,-1)]:t[n++],f){case"s":return u(String(m),C,l,_,v,y);case"c":return u(String.fromCharCode(+m),C,l,_,v);case"b":return a(m,2,O,C,l,_,v);case"o":return a(m,8,O,C,l,_,v);case"x":return a(m,16,O,C,l,_,v);case"X":return a(m,16,O,C,l,_,v).toUpperCase();case"u":return a(m,10,O,C,l,_,v);case"i":case"d":return p=+m||0,p=Math.round(p-p%1),d=0>p?"-":b,m=d+o(String(Math.abs(p)),_,"0",!1),i(m,d,C,l,v);case"e":case"E":case"f":case"F":case"g":case"G":return p=+m,d=0>p?"-":b,h=["toExponential","toFixed","toPrecision"]["efg".indexOf(f.toLowerCase())],g=["toString","toUpperCase"]["eEfFgG".indexOf(f)%2],m=d+Math.abs(p)[h](_),i(m,d,C,l,v)[g]();default:return e}};return r.replace(e,s)}function l(e,t){t=t?(t+"").replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1"):" \\s ";var n=new RegExp("^["+t+"]+","g");return(e+"").replace(n,"")}function c(e,t){t=t?(t+"").replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"\\$1"):" \\s ";var n=new RegExp("["+t+"]+$","g");return(e+"").replace(n,"")}function _(e,t){var n,r=0,o=0;for(e+="",t?(t+="",n=t.replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1")):n=" \n\r	\f            ​\u2028\u2029　",r=e.length,o=0;r>o;o++)if(-1===n.indexOf(e.charAt(o))){e=e.substring(o);break}for(r=e.length,o=r-1;o>=0;o--)if(-1===n.indexOf(e.charAt(o))){e=e.substring(0,o+1);break}return-1===n.indexOf(e.charAt(0))?e:""}function f(){return Math.floor((new Date).getTime()/1e3)}function p(e,t){var n,r,o,i=this,a=/\\?([a-z])/gi,u=function(e,t){return e=e.toString(),e.length<t?u("0"+e,t,"0"):e},s=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"];return o=function(e,t){return r[e]?r[e]():t},r={d:function(){return u(r.j(),2)},D:function(){return r.l().slice(0,3)},j:function(){return n.getDate()},l:function(){return s[r.w()]+"day"},N:function(){return r.w()||7},S:function(){var e=r.j();return 4>e|e>20&&(["st","nd","rd"][e%10-1]||"th")},w:function(){return n.getDay()},z:function(){var e=new Date(r.Y(),r.n()-1,r.j()),t=new Date(r.Y(),0,1);return Math.round((e-t)/864e5)},W:function(){var e=new Date(r.Y(),r.n()-1,r.j()-r.N()+3),t=new Date(e.getFullYear(),0,4);return u(1+Math.round((e-t)/864e5/7),2)},F:function(){return s[6+r.n()]},m:function(){return u(r.n(),2)},M:function(){return r.F().slice(0,3)},n:function(){return n.getMonth()+1},t:function(){return new Date(r.Y(),r.n(),0).getDate()},L:function(){var e=r.Y();return 0===e%4&0!==e%100|0===e%400},o:function(){var e=r.n(),t=r.W(),n=r.Y();return n+(12===e&&9>t?1:1===e&&t>9?-1:0)},Y:function(){return n.getFullYear()},y:function(){return r.Y().toString().slice(-2)},a:function(){return n.getHours()>11?"pm":"am"},A:function(){return r.a().toUpperCase()},B:function(){var e=3600*n.getUTCHours(),t=60*n.getUTCMinutes(),r=n.getUTCSeconds();return u(Math.floor((e+t+r+3600)/86.4)%1e3,3)},g:function(){return r.G()%12||12},G:function(){return n.getHours()},h:function(){return u(r.g(),2)},H:function(){return u(r.G(),2)},i:function(){return u(n.getMinutes(),2)},s:function(){return u(n.getSeconds(),2)},u:function(){return u(1e3*n.getMilliseconds(),6)},e:function(){throw"Not supported (see source code of date() for timezone on how to add support)"},I:function(){var e=new Date(r.Y(),0),t=Date.UTC(r.Y(),0),n=new Date(r.Y(),6),o=Date.UTC(r.Y(),6);return e-t!==n-o?1:0},O:function(){var e=n.getTimezoneOffset(),t=Math.abs(e);return(e>0?"-":"+")+u(100*Math.floor(t/60)+t%60,4)},P:function(){var e=r.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-n.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(a,o)},r:function(){return"D, d M Y H:i:s O".replace(a,o)},U:function(){return 0|n/1e3}},this.date=function(e,t){return i=this,n=void 0===t?new Date:t instanceof Date?new Date(t):new Date(1e3*t),e.replace(a,o)},this.date(e,t)}function d(e,t,n){for(var r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=p(t,n),i=0,a=r.length;a>i;i++)e[r[i]]&&(o=o.replace(r[i],e[r[i]]));return o}function h(e,t,n){var r;return r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),r.open(e,t,!1),r.send(n),200===r.status?r.responseText:""}var g,m="0.4.5",C="undefined"!=typeof global&&"[object global]"=={}.toString.call(global),b=Object.prototype.hasOwnProperty,v=Array.prototype.slice,O=Object.prototype.toString,y=function(e){return"[object Array]"===O.call(e)},T=(echo="undefined"!=typeof console&&console.log?function(e){console.log(e)}:function(){},/[ -]/g),j=/\n\r|\r\n|\n|\r/g,E=C?require("fs"):null,S=E?E.writeFileSync:null,w=E?E.readFileSync:null,D=E?E.existsSync:null,A=E?E.statSync:null;if(E?E.realpathSync:null,!Array.prototype.indexOf){var N=Math.abs;Array.prototype.indexOf=function(e,t){var n,r,o=t?t:0;if(!this)throw new TypeError;if(r=this.length,0===r||o>=r)return-1;for(0>o&&(o=r-N(o)),n=o;r>n;n++)if(this[n]===e)return n;return-1}}var k=!1,x={},M=0,I={},F={},R={},L={},H="<%",P="%>",$="",U="",B="' + \"\\n\" + '",K="",Y=C?require("os").EOL:"\n",z=null,G=0,q="    ",J=null,Z=0,V=0,W=0,X=0,Q=[],et=[],tt=null,nt={specials:null,replacements:null,vars:null,ids:null,atts:null,functions:null,controls:null},rt=["htmlselect","htmltable","include","template","extends","endblock","block","elsefor","endfor","for","elseif","else","endif","if"],ot=["htmlselect","htmltable","has_key","concat","ltrim","rtrim","trim","sprintf","tpl","html","url","count","ldate","date","now","dq","q","l","s","n","f"],it=function(e,t){if("undefined"==typeof t&&(t=G),t>=0){t=0===t?t:t+1;var n,r,o=new Array(t).join(q);for(e=e.split(j),r=e.length,n=0;r>n;n++)e[n]=o+e[n];return e.join(Y)}return e},at=function(e){return e=e||Y,["!function (root, moduleName, moduleDefinition) {","","    //","    // export the module","","    // node, CommonJS, etc..","    if ( 'object' == typeof(module) && module.exports ) module.exports = moduleDefinition();","","    // AMD, etc..","    else if ( 'function' == typeof(define) && define.amd ) define( moduleDefinition );","","    // browser, etc..","    else root[ moduleName ] = moduleDefinition();","","","}(this, '__{{CLASSNAME}}__', function( ) {","   /* Contemplate cached template '__{{ID}}__' */","   /* quasi extends main Contemplate class */","   ","   /* This is NOT used, Contemplate is accessible globally */","   /* var self = require('Contemplate'); */","   ","   /* constructor */","   function __{{CLASSNAME}}__(id)","   {","       /* initialize internal vars */","       var _parent = null, _blocks = null;","       ","       this.id = id;","       this.data = null;","       ","       ","       /* tpl-defined blocks render code starts here */","__{{BLOCKS}}__","       /* tpl-defined blocks render code ends here */","       ","       /* template methods */","       ","       this.setId = function(id) {","           if ( id ) this.id = id;","           return this;","       };","       ","       this.setParent = function(parent) {","           if ( parent )","           {","               if ( parent.substr )","                   _parent = Contemplate.tpl( parent );","               else","                   _parent = parent;","           }","           return this;","       };","       ","       /* render a tpl block method */","       this.renderBlock = function(block, __instance__) {","           if ( !__instance__ ) __instance__ = this;","           if ( _blocks && _blocks[block] ) return _blocks[block](__instance__);","           else if ( _parent ) return _parent.renderBlock(block, __instance__);","           return '';","       };","       ","       /* tpl render method */","       this.render = function(data, __instance__) {","           if ( !__instance__ ) __instance__ = this;","           var __p__ = '';","           if ( _parent )","           {","               __p__ = _parent.render(data, __instance__);","           }","           else","           {","               /* tpl main render code starts here */","__{{RENDERCODE}}__","               /* tpl main render code ends here */","           }","           this.data = null;","           return __p__;","       };","       ","       /* parent tpl assign code starts here */","__{{PARENTCODE}}__","       /* parent tpl assign code ends here */","   };","   ","   ","    // export it","    return __{{CLASSNAME}}__;","});",""].join(e)},ut=function(e){return e=e||Y,["","/* tpl block render method for block '__{{BLOCK}}__' */","'__{{BLOCKMETHOD}}__': function(__instance__) {","__{{BLOCKMETHODCODE}}__","}",""].join(e)},st=function(e){return e=e||Y,["","var __p__ = '';","__{{CODE}}__","return __p__;",""].join(e)},lt=function(e){return e=e||Y,["","if ( __{{COND}}__ )","{","",""].join(e)},ct=function(e){return e=e||Y,["","}","else if ( __{{COND}}__ )","{","",""].join(e)},_t=function(e){return e=e||Y,["","}","else","{","",""].join(e)},ft=function(e){return e=e||Y,["","}","",""].join(e)},pt=function(e){return e=e||Y,["","if ( __{{O}}__ && Object.keys(__{{O}}__).length )","{","   var __{{K}}__;","   for ( __{{K}}__ in __{{O}}__ )","   {","       if ( Contemplate.hasOwn(__{{O}}__, __{{K}}__) )","       {","          __{{ASSIGN1}}__","          __{{ASSIGN2}}__","       ",""].join(e)},dt=function(e){return e=e||Y,["","       }","   }","}","else","{  ","    ",""].join(e)},ht=function(e){return e=e||Y,["","       }","   }","}","",""].join(e)},gt=function(e){return e=e||Y,["","}","",""].join(e)},mt="return '';",Ct=function(e){return e=e||Y,["","var __p__ = '';","__{{CODE}}__","return __p__;",""].join(e)},bt="__p__ = '';",vt=function(e){return e=e||Y,["","__instance__.data = Contemplate.data( data );","__{{CODE}}__",""].join(e)},Ot=function(e,t){var n=null,r=null,o=null;this.id=null,this.data=null,e&&(this.id=e,n=t),this.setId=function(e){return e&&(this.id=e),this},this.setParent=function(e){return e&&(r=e.substr?Contemplate.tpl(e):e),this},this.setRenderFunction=function(e){return n=e,this},this.setBlocks=function(e){return o||(o={}),o=Contemplate.merge(o,e),this},this.renderBlock=function(e,t){return t||(t=this),o&&o[e]?o[e](t):r?r.renderBlock(e,t):""},this.render=function(e,t){var o="";return t||(t=this),r?o=r.render(e,t):n&&(t.data=Contemplate.data(e),o=n(t)),this.data=null,o}};return g={VERSION:m,CACHE_TO_DISK_NONE:0,CACHE_TO_DISK_AUTOUPDATE:2,CACHE_TO_DISK_NOUPDATE:4,ENCODING:"utf8",init:function(){k||(z=[],nt.specials=new RegExp("[\\n\\r\\v\\t]","g"),nt.vars=new RegExp("\\$[a-zA-Z_][a-zA-Z0-9_]*","gm"),nt.ids=new RegExp("\\$([a-zA-Z_][a-zA-Z0-9_]*)","gm"),nt.atts=new RegExp("\\.\\s*([a-zA-Z_][a-zA-Z0-9_]*)","gm"),nt.replacements=new RegExp("\\t[ ]*(.*?)[ ]*\\v","g"),nt.controls=new RegExp("\\t[ ]*%("+rt.join("|")+")\\b[ ]*\\((.*)\\)","g"),nt.functions=new RegExp("%("+ot.join("|")+")\\b","g"),K=B,$="'; "+Y,U=Y+"__p__ += '",k=!0)},setLocaleStrings:function(e){x=g.merge(x,e)},setTemplateSeparators:function(e){e&&(e.left&&(H=""+e.left),e.right&&(P=""+e.right))},setPreserveLines:function(e){"undefined"==typeof e&&(e=!0),K=e?B:""},setCacheDir:function(e){$__cacheDir=c(e,"/")+"/"},setCacheMode:function(e){M=C?e:g.CACHE_TO_DISK_NONE},clearCache:function(e){I={},e&&(R={})},add:function(e){F=g.merge(F,e)},addInline:function(e){L=g.merge(L,e)},tpl:function(e,t,n){(n||!I[e])&&(I[e]=g.getCachedTemplate(e));var r=I[e];return t?r.render(t):r},html:function(e){return t(e,"ENT_COMPAT","UTF-8")},url:function(e){return n(e)},count:r,has_key:function(t){var n=O.call(t);if(!t||"[object Array]"!=n&&"[object Object]"!=n)return!1;var r,o,i,a=v.call(arguments);for(a.shift(),r=a.length,i=t,o=0;r>o;o++){if(e===i[a[o]])return!1;i=i[a[o]]}return!0},q:function(e){return"'"+e+"'"},dq:function(e){return'"'+e+'"'},s:function(e){return String(""+e)},n:function(e){return parseInt(e,10)},f:function(e){return parseFloat(e,10)},concat:function(){return v.call(arguments).join("")},trim:_,ltrim:l,rtrim:c,sprintf:s,time:f,date:function(e,t){return t||(t=f()),p(e,t)},ldate:function(e,t){return t||(t=f()),d(x,e,t)},locale:function(e){return b.call(x,e)?x[e]:e},htmltable:function(e,t){e=g.merge({},e),t=g.merge({},t||{});var n,r,i,s,l,c,_,f,p,d="",h="",m="",C="",b=[],v=!1;if(d="<table",t.id&&(d+=" id='"+t.id+"'"),t["class"]&&(d+=" class='"+t["class"]+"'"),t.style&&(d+=" style='"+t.style+"'"),t.data)for(n in t.data)g.hasOwn(t.data,n)&&(d+=" data-"+n+"='"+t.data[n]+"'");d+=">",h="",(t.header||t.footer)&&(h="<td>"+a(e).join("</td><td>")+"</td>"),m="",t.header&&(m="<thead><tr>"+h+"</tr></thead>"),C="",t.footer&&(C="<tfoot><tr>"+h+"</tr></tfoot>"),d+=m,b=[],l=u(e);for(r in l)if(g.hasOwn(l,r))for(c=l[r],o(c)||(c=[c]),_=u(c),i=0,s=_.length;s>i;i++)b[i]||(b[i]=new Array(s)),b[i][r]=_[i];for(f=t.odd?t.odd:"odd",p=t.even?t.even:"even",v=!1,r=0,s=b.length;s>r;r++)d+=v?"<tr class='"+f+"'><td>"+b[r].join("</td><td>")+"</td></tr>":"<tr class='"+p+"'><td>"+b[r].join("</td><td>")+"</td></tr>",v=!v;return b=null,delete b,d+=C,d+="</table>"},htmlselect:function(e,t){e=g.merge({},e),t=g.merge({},t||{});var n,r,a,u,s="";if(s="<select",t.multiple&&(s+=" multiple"),t.disabled&&(s+=" disabled='disabled'"),t.name&&(s+=" name='"+t.name+"'"),t.id&&(s+=" id='"+t.id+"'"),t["class"]&&(s+=" class='"+t["class"]+"'"),t.style&&(s+=" style='"+t.style+"'"),t.data)for(n in t.data)g.hasOwn(t.data,n)&&(s+=" data-"+n+"='"+t.data[n]+"'");s+=">",t.selected?(o(t.selected)||(t.selected=[t.selected]),t.selected=i(t.selected)):t.selected={},t.optgroups&&(o(t.optgroups)||(t.optgroups=[t.optgroups]),t.optgroups=i(t.optgroups));for(n in e)if(g.hasOwn(e,n))if(a=e[n],t.optgroups&&t.optgroups[n]){s+="<optgroup label='"+n+"'>";for(r in a)g.hasOwn(a,r)&&(u=a[r],t.use_key?u=r:t.use_value&&(r=u),s+=g.hasOwn(t.selected,r)?"<option value='"+r+"' selected='selected'>"+u+"</option>":"<option value='"+r+"'>"+u+"</option>");s+="</optgroup>"}else t.use_key?a=n:t.use_value&&(n=a),s+=t.selected[n]?"<option value='"+n+"' selected='selected'>"+a+"</option>":"<option value='"+n+"'>"+a+"</option>";return s+="</select>"},t_if:function(e){var t,n;return V++,t="';",n=lt().split("__{{COND}}__").join(e),t+=it(n),G++,t},t_elseif:function(e){var t,n;return t="';",n=ct().split("__{{COND}}__").join(e),G--,t+=it(n),G++,t},t_else:function(){var e,t;return e="';",t=_t(),G--,e+=it(t),G++,e},t_endif:function(){var e,t;return V--,e="';",t=ft(),G--,e+=it(t)},t_for:function(e){var t,n;Z++,W++,e=e.split(" as ");var r=_(e[0]),o=e[1].split("=>"),i=l(_(o[0]),"$"),a=l(_(o[1]),"$");return r=g.doTplVars(r),J={"__{{O}}__":r,"__{{K}}__":i,"__{{V}}__":a,"__{{ASSIGN1}}__":"var "+a+" = "+r+"["+i+"];","__{{ASSIGN2}}__":"__instance__.data['"+i+"'] = "+i+"; __instance__.data['"+a+"'] = "+a+";"},t="';",n=pt(),t+=it(n),G+=3,t},t_elsefor:function(){var e,t;return W--,e="';",t=dt(),G+=-3,e+=it(t),G+=1,e},t_endfor:function(){var e,t;return e="';",W==Z?(Z--,W--,t=ht(),G+=-3,e+=it(t)):(Z--,t=gt(),G+=-1,e+=it(t))},t_include:function(e){return R[e]||(g.pushState(),g.resetState(),R[e]=" "+g.parse(g.getTemplateContents(e),!1)+"'; "+Y,g.popState()),it(R[e])},t_template:function(e){e=e.split(",");var t=_(e.shift()),n=e.join(",").split("=>").join(":");return"' + %tpl( \""+t+'", '+n+" ); "+Y},t_extends:function(e){return tt=e,"'; "+Y},t_block:function(e){return e=_(e),0>et.indexOf(e)&&et.push(e),X++,Q.push(e),"' +  __||"+e+"||__"},t_endblock:function(){return X?(X--,"__||/"+Q.pop()+"||__"):""},t_table:function(e){var t=e.split("=>").join(":");return"' + %htmltable("+t+"); "+Y},t_select:function(e){var t=e.split("=>").join(":");return"' + %htmlselect("+t+"); "+Y},doControlConstructs:function(e){if(e[1])switch(e[1]){case"if":return g.t_if(e[2]);case"elseif":return g.t_elseif(e[2]);case"else":return g.t_else(e[2]);case"endif":return g.t_endif(e[2]);case"for":return g.t_for(e[2]);case"elsefor":return g.t_elsefor(e[2]);case"endfor":return g.t_endfor(e[2]);case"extends":return g.t_extends(e[2]);case"block":return g.t_block(e[2]);case"endblock":return g.t_endblock(e[2]);case"template":return g.t_template(e[2]);case"include":return g.t_include(e[2]);case"htmltable":return g.t_table(e[2]);case"htmlselect":return g.t_select(e[2])}return e[0]},doBlocks:function(e){for(var t,n,r,o,i,a,u,s,l,c={},_=et.length;_--;){t=et.pop(),r="__||"+t+"||__",o="__||/"+t+"||__",i=r.length,a=i+1,u=e.indexOf(r,0),s=e.indexOf(o,u+i),n=e.substr(u,s-u+a),n.length&&(n=n.substring(i,n.length-a).replace("+ '' +","+").replace("+ '';",";"),l=st().split("__{{CODE}}__").join(it(n+"';",0)),c[t]=l);for(var f=!0;f;)e=e.substr(0,u)+"__instance__.renderBlock( '"+t+"' ); "+e.substr(s+a),f=-1<(u=e.indexOf(r,0)),s=f?e.indexOf(o,u+i):0}return[e.replace("+ '' +","+").replace("+ '';",";"),c]},doTplVars:function(e){for(var t,n,r,o=[],i=[];n=nt.ids.exec(e);)o.push(n[1]);if(o.length){for(i=e.split(nt.vars),r=i.length-1,e="",t=0;r>t;t++)e+=i[t].replace(nt.atts,"['$1']"),e+="__instance__.data['"+o[t]+"']";e+=i[r].replace(nt.atts,"['$1']")}return e},doTags:function(e){if(J=null,e=e.replace(nt.controls,function(e,t,n){return g.doControlConstructs([e,t,n])}),e=g.doTplVars(e),J)for(var t in J)e=e.split(t).join(J[t]);return e=e.replace(nt.functions,"Contemplate.$1"),e.replace(nt.replacements,"' + ( $1 ) + '").split("	").join($).split("").join(it(U))},split:function(e){var t,n,r,o,i;for(t=e.split(H),n=t.length,r=[],o=0;n>o;o++)i=t[o].split(P),r.push(i[0]),i.length>1&&r.push(i[1]);return r},parse:function(e,t){var n,r,o,i,a,u;for(n=g.split(e),r=n.length,u=!1,o="",a=0;r>a;a++)i=n[a],u?(i=i.replace(nt.specials," "),i=g.doTags("	"+i+""),u=!1):(i=i.split("'").join("\\'").split("\n").join(K),u=!0),o+=i;return"undefined"==typeof t&&(t=!0),t?g.doBlocks(o):o.replace("+ '' +","+").replace("+ '';",";")},getTemplateContents:function(e){return L[e]?L[e]:F[e]?C&&E?w(F[e],{encoding:g.ENCODING}):0===F[e].indexOf("#")?window.document.getElementById(F[e].substring(1)).innerHTML:h("GET",F[e]):""},getCachedTemplateName:function(e){return $__cacheDir+e.replace(T,"_")+"_tpl.js"},getCachedTemplateClass:function(e){return"Contemplate_"+e.replace(T,"_")+"_Cached"},createTemplateRenderFunction:function(e){g.resetState();var t,n,r=g.parse(g.getTemplateContents(e)),o={};n=tt?mt:Ct().split("__{{CODE}}__").join(it("__p__ += '"+r[0]+"';",0));for(t in r[1])o[t]=new Function("__instance__",r[1][t]);return[new Function("__instance__",n),o]},createCachedTemplate:function(e,t,n){g.resetState();var r,o,i,a,u,s=g.parse(g.getTemplateContents(e));a=[];for(i in s[1])u=Y+ut().split("__{{BLOCK}}__").join(i).split("__{{BLOCKMETHOD}}__").join(i).split("__{{BLOCKMETHODCODE}}__").join(it(s[1][i],1)),a.push(u);a=a.length?Y+"_blocks = { "+Y+it(a.join(","+Y),1)+Y+"};"+Y:"",tt?(r="this.setParent( '"+tt+"' );",o=bt):(r="",o=vt().split("__{{CODE}}__").join(it("__p__ += '"+s[0]+"';",0)));var l=at().split("__{{ID}}__").join(e).split("__{{CLASSNAME}}__").join(n).split("__{{PARENTCODE}}__").join(it(r,2)).split("__{{BLOCKS}}__").join(it(a,2)).split("__{{RENDERCODE}}__").join(it(o,4));return g.setCachedTemplate(t,l)},getCachedTemplate:function(e){if(L[e]){var t=g.createTemplateRenderFunction(e),n=new Ot(e,t[0]).setBlocks(t[1]);return tt&&n.setParent(g.tpl(tt)),n}switch(C||(M=g.CACHE_TO_DISK_NONE),M){case g.CACHE_TO_DISK_NOUPDATE:var r=g.getCachedTemplateName(e),o=g.getCachedTemplateClass(e);if(D(r)||g.createCachedTemplate(e,r,o),D(r)){var i=require(r),n=(new i).setId(e);return n}return null;case g.CACHE_TO_DISK_AUTOUPDATE:var r=g.getCachedTemplateName(e),o=g.getCachedTemplateClass(e);if(D(r)){var a=A(r),u=A(F[e]);a.mtime.getTime()<=u.mtime.getTime()&&g.createCachedTemplate(e,r,o)}else g.createCachedTemplate(e,r,o);if(D(r)){var i=require(r),n=(new i).setId(e);return n}return null;case g.CACHE_TO_DISK_NONE:default:var t=g.createTemplateRenderFunction(e),n=new Ot(e,t[0]).setBlocks(t[1]);return tt&&n.setParent(g.tpl(tt)),n}return null},setCachedTemplate:function(e,t){return S(e,t,{encoding:g.ENCODING})},resetState:function(){Z=0,V=0,W=0,G=0,X=0,Q=[],et=[],tt=null},pushState:function(){z.push([Z,V,W,G,X,Q,et,tt])},popState:function(){var e=z.pop();Z=e[0],V=e[1],W=e[2],G=e[3],X=e[4],Q=e[5],et=e[6],tt=e[7]},hasOwn:function(e,t){return e&&b.call(e,t)},merge:function(){var e=v.call(arguments);if(!(e.length<1)){var t,n,r,o=e.shift(),i=e.length;for(t=0;i>t;t++)if(r=e[t])for(n in r)b.call(r,n)&&(o[n]=r[n]);return o}},data:function(e){if(y(e))return e.slice();var t,n,r={};for(t in e)b.call(e,t)&&(n=t,r[n]=e[t]);return r}},g.now=g.time,g.l=g.locale,g.init(),C&&(global.Contemplate=g),g});