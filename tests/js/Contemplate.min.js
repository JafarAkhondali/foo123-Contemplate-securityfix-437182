/**
*  Contemplate
*  Light-weight Template Engine for PHP, Python, Node and client-side JavaScript
*
*  @version: 0.6.4
*  https://github.com/foo123/Contemplate
*
*  @inspired by : Simple JavaScript Templating, John Resig - http://ejohn.org/ - MIT Licensed
*  http://ejohn.org/blog/javascript-micro-templating/
*
**/
!function(e,t,n){"object"==typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define(n):e[t]=n()}(this,"Contemplate",function(e){"use strict";function t(e,t){var n,r={},i={},u={},o={},a={},l={};if(u[0]="HTML_SPECIALCHARS",u[1]="HTML_ENTITIES",o[0]="ENT_NOQUOTES",o[2]="ENT_COMPAT",o[3]="ENT_QUOTES",a=isNaN(e)?e?e.toUpperCase():"HTML_SPECIALCHARS":u[e],l=isNaN(t)?t?t.toUpperCase():"ENT_COMPAT":o[t],"HTML_SPECIALCHARS"!==a&&"HTML_ENTITIES"!==a)throw new Error("Table: "+a+" not supported");r["38"]="&amp;","HTML_ENTITIES"===a&&(r["160"]="&nbsp;",r["161"]="&iexcl;",r["162"]="&cent;",r["163"]="&pound;",r["164"]="&curren;",r["165"]="&yen;",r["166"]="&brvbar;",r["167"]="&sect;",r["168"]="&uml;",r["169"]="&copy;",r["170"]="&ordf;",r["171"]="&laquo;",r["172"]="&not;",r["173"]="&shy;",r["174"]="&reg;",r["175"]="&macr;",r["176"]="&deg;",r["177"]="&plusmn;",r["178"]="&sup2;",r["179"]="&sup3;",r["180"]="&acute;",r["181"]="&micro;",r["182"]="&para;",r["183"]="&middot;",r["184"]="&cedil;",r["185"]="&sup1;",r["186"]="&ordm;",r["187"]="&raquo;",r["188"]="&frac14;",r["189"]="&frac12;",r["190"]="&frac34;",r["191"]="&iquest;",r["192"]="&Agrave;",r["193"]="&Aacute;",r["194"]="&Acirc;",r["195"]="&Atilde;",r["196"]="&Auml;",r["197"]="&Aring;",r["198"]="&AElig;",r["199"]="&Ccedil;",r["200"]="&Egrave;",r["201"]="&Eacute;",r["202"]="&Ecirc;",r["203"]="&Euml;",r["204"]="&Igrave;",r["205"]="&Iacute;",r["206"]="&Icirc;",r["207"]="&Iuml;",r["208"]="&ETH;",r["209"]="&Ntilde;",r["210"]="&Ograve;",r["211"]="&Oacute;",r["212"]="&Ocirc;",r["213"]="&Otilde;",r["214"]="&Ouml;",r["215"]="&times;",r["216"]="&Oslash;",r["217"]="&Ugrave;",r["218"]="&Uacute;",r["219"]="&Ucirc;",r["220"]="&Uuml;",r["221"]="&Yacute;",r["222"]="&THORN;",r["223"]="&szlig;",r["224"]="&agrave;",r["225"]="&aacute;",r["226"]="&acirc;",r["227"]="&atilde;",r["228"]="&auml;",r["229"]="&aring;",r["230"]="&aelig;",r["231"]="&ccedil;",r["232"]="&egrave;",r["233"]="&eacute;",r["234"]="&ecirc;",r["235"]="&euml;",r["236"]="&igrave;",r["237"]="&iacute;",r["238"]="&icirc;",r["239"]="&iuml;",r["240"]="&eth;",r["241"]="&ntilde;",r["242"]="&ograve;",r["243"]="&oacute;",r["244"]="&ocirc;",r["245"]="&otilde;",r["246"]="&ouml;",r["247"]="&divide;",r["248"]="&oslash;",r["249"]="&ugrave;",r["250"]="&uacute;",r["251"]="&ucirc;",r["252"]="&uuml;",r["253"]="&yacute;",r["254"]="&thorn;",r["255"]="&yuml;"),"ENT_NOQUOTES"!==l&&(r["34"]="&quot;"),"ENT_QUOTES"===l&&(r["39"]="&#39;"),r["60"]="&lt;",r["62"]="&gt;";for(n in r)r.hasOwnProperty(n)&&(i[String.fromCharCode(n)]=r[n]);return i}function n(e,n,r,i){var u=t("HTML_ENTITIES",n),o="";if(e=null==e?"":e+"",!u)return!1;if(n&&"ENT_QUOTES"===n&&(u["'"]="&#039;"),i||null==i)for(o in u)u.hasOwnProperty(o)&&(e=e.split(o).join(u[o]));else e=e.replace(/([\s\S]*?)(&(?:#\d+|#x[\da-f]+|[a-zA-Z][\da-z]*);|$)/g,function(e,t,n){for(o in u)u.hasOwnProperty(o)&&(t=t.split(o).join(u[o]));return t+n});return e}function r(e){return e=(e+"").toString(),encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")}function i(e,t){var n,r=0;if(null===e||"undefined"==typeof e)return 0;if(e.constructor!==Array&&e.constructor!==Object)return 1;"COUNT_RECURSIVE"===t&&(t=1),1!=t&&(t=0);for(n in e)e.hasOwnProperty(n)&&(r++,1!=t||!e[n]||e[n].constructor!==Array&&e[n].constructor!==Object||(r+=i(e[n],1)));return r}function u(e){var t,n=function(e){var t=/\W*function\s+([\w\$]+)\s*\(/.exec(e);return t?t[1]:"(Anonymous)"},r=function(e){if(!e||"object"!=typeof e||"number"!=typeof e.length)return!1;var t=e.length;return e[e.length]="bogus",t!==e.length?(e.length-=1,!0):(delete e[e.length],!1)};return e&&"object"==typeof e?(t=null,r(e)||(!t||0!==parseInt(t.local_value,10)&&(!t.local_value.toLowerCase||"off"!==t.local_value.toLowerCase()))&&"[object Object]"===Object.prototype.toString.call(e)&&"Object"===n(e.constructor)):!1}function o(e){var t,n={};if(e&&"object"==typeof e&&e.change_key_case)return e.flip();for(t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function a(e,t,n){var r="undefined"!=typeof t,i=[],u=!!n,o=!0,a="";if(e&&"object"==typeof e&&e.change_key_case)return e.keys(t,n);for(a in e)e.hasOwnProperty(a)&&(o=!0,r&&(u&&e[a]!==t?o=!1:e[a]!=t&&(o=!1)),o&&(i[i.length]=a));return i}function l(e){var t=[],n="";if(e&&"object"==typeof e&&e.change_key_case)return e.values();for(n in e)t[t.length]=e[n];return t}function c(){var e=/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,t=arguments,n=0,r=t[n++],i=function(e,t,n,r){n||(n=" ");var i=e.length>=t?"":Array(1+t-e.length>>>0).join(n);return r?e+i:i+e},u=function(e,t,n,r,u,o){var a=r-e.length;return a>0&&(e=n||!u?i(e,r,o,n):e.slice(0,t.length)+i("",a,"0",!0)+e.slice(t.length)),e},o=function(e,t,n,r,o,a,l){var c=e>>>0;return n=n&&c&&{2:"0b",8:"0",16:"0x"}[t]||"",e=n+i(c.toString(t),a||0,"0",!1),u(e,n,r,o,l)},a=function(e,t,n,r,i,o){return null!=r&&(e=e.slice(0,r)),u(e,"",t,n,i,o)},l=function(e,r,l,c,s,f,d){var p,_,g,h,m;if("%%"==e)return"%";for(var v=!1,O="",E=!1,C=!1,b=" ",T=l.length,y=0;l&&T>y;y++)switch(l.charAt(y)){case" ":O=" ";break;case"+":O="+";break;case"-":v=!0;break;case"'":b=l.charAt(y+1);break;case"0":E=!0;break;case"#":C=!0}if(c=c?"*"==c?+t[n++]:"*"==c.charAt(0)?+t[c.slice(1,-1)]:+c:0,0>c&&(c=-c,v=!0),!isFinite(c))throw new Error("sprintf: (minimum-)width must be finite");switch(f=f?"*"==f?+t[n++]:"*"==f.charAt(0)?+t[f.slice(1,-1)]:+f:"fFeE".indexOf(d)>-1?6:"d"==d?0:void 0,m=r?t[r.slice(0,-1)]:t[n++],d){case"s":return a(String(m),v,c,f,E,b);case"c":return a(String.fromCharCode(+m),v,c,f,E);case"b":return o(m,2,C,v,c,f,E);case"o":return o(m,8,C,v,c,f,E);case"x":return o(m,16,C,v,c,f,E);case"X":return o(m,16,C,v,c,f,E).toUpperCase();case"u":return o(m,10,C,v,c,f,E);case"i":case"d":return p=+m||0,p=Math.round(p-p%1),_=0>p?"-":O,m=_+i(String(Math.abs(p)),f,"0",!1),u(m,_,v,c,E);case"e":case"E":case"f":case"F":case"g":case"G":return p=+m,_=0>p?"-":O,g=["toExponential","toFixed","toPrecision"]["efg".indexOf(d.toLowerCase())],h=["toString","toUpperCase"]["eEfFgG".indexOf(d)%2],m=_+Math.abs(p)[g](f),u(m,_,v,c,E)[h]();default:return e}};return r.replace(e,l)}function s(e,t){t=t?(t+"").replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1"):" \\s ";var n=new RegExp("^["+t+"]+","g");return(e+"").replace(n,"")}function f(e,t){t=t?(t+"").replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"\\$1"):" \\s ";var n=new RegExp("["+t+"]+$","g");return(e+"").replace(n,"")}function d(e,t){var n,r=0,i=0;for(e+="",t?(t+="",n=t.replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1")):n=" \n\r	\f            ​\u2028\u2029　",r=e.length,i=0;r>i;i++)if(-1===n.indexOf(e.charAt(i))){e=e.substring(i);break}for(r=e.length,i=r-1;i>=0;i--)if(-1===n.indexOf(e.charAt(i))){e=e.substring(0,i+1);break}return-1===n.indexOf(e.charAt(0))?e:""}function p(){return Math.floor((new Date).getTime()/1e3)}function _(e,t){var n,r,i,u=/\\?([a-z])/gi,o=function(e,t){return e=e.toString(),e.length<t?o("0"+e,t,"0"):e},a=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"];i=function(e,t){return r[e]?r[e]():t},r={d:function(){return o(r.j(),2)},D:function(){return r.l().slice(0,3)},j:function(){return n.getDate()},l:function(){return a[r.w()]+"day"},N:function(){return r.w()||7},S:function(){var e=r.j();return 4>e|e>20&&(["st","nd","rd"][e%10-1]||"th")},w:function(){return n.getDay()},z:function(){var e=new Date(r.Y(),r.n()-1,r.j()),t=new Date(r.Y(),0,1);return Math.round((e-t)/864e5)},W:function(){var e=new Date(r.Y(),r.n()-1,r.j()-r.N()+3),t=new Date(e.getFullYear(),0,4);return o(1+Math.round((e-t)/864e5/7),2)},F:function(){return a[6+r.n()]},m:function(){return o(r.n(),2)},M:function(){return r.F().slice(0,3)},n:function(){return n.getMonth()+1},t:function(){return new Date(r.Y(),r.n(),0).getDate()},L:function(){var e=r.Y();return 0===e%4&0!==e%100|0===e%400},o:function(){var e=r.n(),t=r.W(),n=r.Y();return n+(12===e&&9>t?1:1===e&&t>9?-1:0)},Y:function(){return n.getFullYear()},y:function(){return r.Y().toString().slice(-2)},a:function(){return n.getHours()>11?"pm":"am"},A:function(){return r.a().toUpperCase()},B:function(){var e=3600*n.getUTCHours(),t=60*n.getUTCMinutes(),r=n.getUTCSeconds();return o(Math.floor((e+t+r+3600)/86.4)%1e3,3)},g:function(){return r.G()%12||12},G:function(){return n.getHours()},h:function(){return o(r.g(),2)},H:function(){return o(r.G(),2)},i:function(){return o(n.getMinutes(),2)},s:function(){return o(n.getSeconds(),2)},u:function(){return o(1e3*n.getMilliseconds(),6)},e:function(){throw"Not supported (see source code of date() for timezone on how to add support)"},I:function(){var e=new Date(r.Y(),0),t=Date.UTC(r.Y(),0),n=new Date(r.Y(),6),i=Date.UTC(r.Y(),6);return e-t!==n-i?1:0},O:function(){var e=n.getTimezoneOffset(),t=Math.abs(e);return(e>0?"-":"+")+o(100*Math.floor(t/60)+t%60,4)},P:function(){var e=r.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-n.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(u,i)},r:function(){return"D, d M Y H:i:s O".replace(u,i)},U:function(){return 0|n/1e3}};var l=function(e,t){return n=void 0===t?new Date:t instanceof Date?new Date(t):new Date(1e3*t),e.replace(u,i)};return l(e,t)}function g(e,t,n){for(var r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=_(t,n),u=0,o=r.length;o>u;u++)e[r[u]]&&(i=i.replace(r[u],e[r[u]]));return i}var h,m="0.6.4",v=Object.prototype,O=Array.prototype,E=Function.prototype,C=E.call.bind(v.toString),b=E.call.bind(v.hasOwnProperty),T=E.call.bind(O.slice),y="undefined"!=typeof global&&"[object global]"==C(global),A=function(e){return"[object Array]"===C(e)||e instanceof Array},S=y?require("fs"):null,w=S?S.writeFileSync:null,D=S?S.readFileSync:null,N=S?S.existsSync:null,j=S?S.statSync:null,M=(S?S.realpathSync:null,S?S.writeFile:null),I=S?S.readFile:null,k=(S?S.exists:null,S?S.stat:null,S?S.realpath:null,function(e,t,n,r){var i;return i=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),r?(i.onload=function(){200===i.status?r(i.responseText):r("")},i.open(e,t,!0),i.send(n),""):(i.open(e,t,!1),i.send(n),200===i.status?i.responseText:"")}),L=!1,x={},U={},P=!1,R=0,F="./",H={},K={},B={},$={},G="<%",Y="%>",q="",z="",J="",W="' + \"\\n\" + '",X="",V=y?require("os").EOL:"\n",Z=!0,Q=null,et=0,tt="    ",nt=0,rt=0,it=0,ut=0,ot=null,at=null,lt=null,ct=null,st=null,ft=-1,dt=null,pt=0,_t=/[ -]/g,gt=/\n\r|\r\n|\n|\r/g,ht=/^[a-zA-Z_]/,mt=/^[0-9]/,vt=/^[a-zA-Z0-9_]/i,Ot=/^\s/,Et={specials:null,replacements:null,functions:null,controls:null,controls2:null},Ct=["include","template","extends","endblock","block","elsefor","endfor","for","set","unset","isset","elseif","else","endif","if"],bt=["htmlselect","htmltable","plugin_([a-zA-Z0-9_]+)","haskey","lowercase","uppercase","camelcase","snakecase","pluralise","concat","ltrim","rtrim","trim","sprintf","addslashes","stripslashes","tpl","uuid","html","url","count","ldate","date","now","locale","dq","q","l","s","n","f"],Tt={},yt=function(){rt=0,it=0,ut=0,et=0,ot=[],at={},lt=[[null,-1]],dt=null},At=function(){Q.push([rt,it,ut,et,ot,at,lt,dt])},St=function(){var e=Q.pop();rt=e[0],it=e[1],ut=e[2],et=e[3],ot=e[4],at=e[5],lt=e[6],dt=e[7]},wt=function(){return T(arguments).join(V)},Dt=function(e,t){if(2>arguments.length&&(t=et),t>=0){t=0===t?t:t+1;var n,r,i=new Array(t).join(tt);for(e=e.split(gt),r=e.length,n=0;r>n;n++)e[n]=i+e[n];return e.join(V)}return e},Nt=function(){var e=T(arguments);if(!(e.length<1)){var t,n,r,i=e.shift(),u=e.length;for(t=0;u>t;t++)if(r=e[t])for(n in r)b(r,n)&&(i[n]=r[n]);return i}},jt=function(e,t){var n,r;if(t)r=d(t).split(" "),G=d(r[0]),Y=d(r[1]);else{for(n=e.split("\n");n.length&&!d(n[0]).length;)n.shift();n.length&&(r=d(n.shift()).split(" "),G=d(r[0]),Y=d(r[1])),e=n.join("\n")}return e},Mt=function(e,t){return $[e]?P&&t?(t($[e]),""):$[e]:K[e]?y&&S?P&&t?(I(K[e],{encoding:h.ENCODING},function(e,n){e?t(""):t(n)}),""):D(K[e],{encoding:h.ENCODING}):"#"===K[e].charAt(0)?P&&t?(t(window.document.getElementById(K[e].substring(1)).innerHTML||""),""):window.document.getElementById(K[e].substring(1)).innerHTML||"":P&&t?(k("GET",K[e],null,t),""):k("GET",K[e]):""},It=function(e){return' ("undefined" !== typeof('+e+")) "},kt=function(e){e=e.split(",");var t=d(e.shift()),n=d(e.join(","));return"';"+V+Dt(t+" = ("+n+");")+V},Lt=function(e){return e&&e.length?(e=d(e),"';"+V+Dt('if ("undefined" !== typeof ('+e+")) delete "+e+";")+V):"'; "+V},xt=function(e){var t="';"+Dt(sn({IFCOND:e}));return it++,et++,t},Ut=function(e){et--;var t="';"+Dt(fn({ELIFCOND:e}));return et++,t},Pt=function(){et--;var e="';"+Dt(dn());return et++,e},Rt=function(){it--,et--;var e="';"+Dt(pn());return e},Ft=function(e){e=e.split(" as ");var t,n=d(e[0]),r=e[1].split("=>"),i=d(r[0])+"__RAW__",u=d(r[1])+"__RAW__",o="_O"+ ++nt,a="_K"+ ++nt,l="_V"+ ++nt;return t="';"+Dt(_n({O:n,_O:o,K:i,_K:a,V:u,_V:l,ASSIGN1:"var "+l+" = "+o+"["+a+"];",ASSIGN2:"__i__.data['"+i+"'] = "+a+"; __i__.data['"+u+"'] = "+l+";"})),rt++,ut++,et+=3,t},Ht=function(){ut--,et+=-3;var e="';"+Dt(gn());return et+=1,e},Kt=function(){var e;return ut==rt?(rt--,ut--,et+=-3,e="';"+Dt(hn(null,1))):(rt--,et+=-1,e="';"+Dt(hn(null,2))),e},Bt=function(e){return B[e]||(At(),yt(),B[e]=" "+Qt(jt(Mt(e)),!1)+"'; "+V,St()),Dt(B[e])},$t=function(e){e=e.split(",");var t=d(e.shift()),n=e.join(",");return"' + %tpl( \""+t+'", '+n+" ); "+V},Gt=function(e){return dt=d(e),"'; "+V},Yt=function(e){return e=d(e),ot.push([e,-1,-1,0,lt[0][1]]),at[e]=at[e]?at[e]+1:1,ft=ot.length,lt.unshift([e,ft-1]),ct=e,st=null,"' +  __||"+e+"||__"},qt=function(){if(1<lt.length){var e=lt.shift();return st=e[0],ft=e[1]+1,ct=null,"__||/"+e[0]+"||__"}return""},zt=function(e,t,n){var r,i,u,o,a;for(r=e.split(t),i=r.length,u=[],o=0;i>o;o++)a=r[o].split(n),u.push(a[0]),a.length>1&&u.push(a[1]);return u},Jt=function(e,t,n){if(t)switch(n=n||"",t){case"isset":return n=n.replace(Et.controls2,Jt),It(n);case"set":return n=n.replace(Et.controls2,Jt),kt(n);case"unset":return n=n.replace(Et.controls2,Jt),Lt(n);case"if":return n=n.replace(Et.controls2,Jt),xt(n);case"elseif":return n=n.replace(Et.controls2,Jt),Ut(n);case"else":return Pt(n);case"endif":return Rt(n);case"for":return n=n.replace(Et.controls2,Jt),Ft(n);case"elsefor":return Ht(n);case"endfor":return Kt(n);case"extends":return Gt(n);case"block":return Yt(n);case"endblock":return qt(n);case"template":return n=n.replace(Et.controls2,Jt),$t(n);case"include":return Bt(n)}return e},Wt=function(e){for(var t,n,r,i,u,o,a,l,c,s,f={},d=ot.length;d--;)n=ot[d],t=n[0],a=n[1],l=n[2],c=n[3],s=n[4],r="__||"+t+"||__",i="__i__.renderBlock( '"+t+"' ); ",u=r.length,o=i.length,s>-1&&(ot[s][3]+=o-(l-a+1)),l+=c,1===at[t]&&(f[t]=cn({BLOCKCODE:e.slice(a+u,l-u-1)+"';"})),e=e.slice(0,a)+i+e.slice(l+1),1<=at[t]&&at[t]--;return ot=null,at=null,lt=null,[e,f]},Xt=function(e,t,n,r){for(var i=t,u=!1,o="";r>n&&(o=e[n++],i+=o,t!=o||u);)u=!u&&"\\"==o;return i},Vt=function(e,t,n,r){if(r=r||"VARSTR",ht.test(e[t])){var i,u,o,a,l,c,s,f,d,p,_,g=0,h={},m=[],v=0;for(u=e[t++];n>t&&vt.test(e[t]);)u+=e[t++];for(a=u,u="__i__.data['"+u+"']",l=a.length,v=0;n>t&&Ot.test(e[t]);)v++,t++;for(s=0;n>t&&("."==e[t]||"["==e[t]);){for(f=e[t++];n>t&&Ot.test(e[t]);)v++,t++;if("."==f){for(o="";n>t&&vt.test(e[t]);)o+=e[t++];if(c=o.length,!c)break;u+="['"+o+"']",l+=v+1+c,v=0}else if("["==f){if(s++,d=e[t],'"'==d||"'"==d)o=Xt(e,d,t+1,n),g++,p="__##"+r+g+"##__",h[p]=o,u+=f+p,c=o.length,t+=c,l+=v+1+c,v=0;else if(mt.test(d)){for(o=e[t++];n>t&&mt.test(e[t]);)o+=e[t++];u+=f+o,c=o.length,l+=v+1+c,v=0}else if("$"==d)_=e.slice(t+1),i=Vt(_,0,_.length,r+"_"+g+"_"),i&&(o=i[i.length-1],u+=f+o[0][0],c=o[1],t+=c+1,l+=v+2+c,v=0,m=m.concat(i));else{if("]"!=d)break;if(!(s>0))break;s--,u+=f+e[t++],l+=v+2,v=0}for(;n>t&&Ot.test(e[t]);)v++,t++;if("]"==e[t]){if(!(s>0))break;s--,u+=e[t++],l+=v+1,v=0}}for(;n>t&&Ot.test(e[t]);)v++,t++}return m.push([[u,a],l,h]),m}return null},Zt=function(e,t,n){return n&&Tt[n]?"Contemplate.plugin_"+n:"Contemplate."+t},Qt=function(e,t){var n,r,i,u,o,a,l,c,s,f,d,p,_,g,m,v,O,E;for(n=zt(e,G,Y),r=n.length,a=!1,i="",o=0;r>o;o++){if(u=n[o],a){for(l="	"+u.replace(Et.specials," ")+"",d=l.length,s={},c={},p=0,_="",g="",m=0;d>p;)if(_=l[p++],'"'==_||"'"==_)v=Xt(l,_,p,d),m++,f="__##STR"+m+"##__",c[f]=v,g+=f,p+=v.length-1;else if("$"==_)if(v=Vt(l,p,d)){for(O=0;O<v.length;O++)E=v[O],m++,f="__##VAR"+m+"##__",s[f]=E[0],c=h.merge(c,E[2]);g+=f,p+=E[1]}else g+="$";else g+=_;l=g,ct=null,st=null,ft=-1,l=l.replace(Et.controls,Jt).replace(Et.functions,Zt).replace(Et.replacements,"' + ( $1 ) + '");for(f in s)l=l.split(f+"__RAW__").join(s[f][1]),l=l.split(f).join(s[f][0]);for(f in c)l=l.split(f).join(c[f]);u=l.split("	").join(q).split("").join(Dt(z)),ct?(ct="__||"+ct+"||__",ot[ft-1][1]=i.length+l.indexOf(ct)):st&&(st="__||/"+st+"||__",ot[ft-1][2]=i.length+l.indexOf(st)+st.length),a=!1}else Z&&(u=u.split("\\").join("\\\\")),u=u.split("'").join("\\'").split(/\n/).join(X),a=!0;i+=u}return!1!==t?Wt(i):i},en=function(e){return F+e.replace(_t,"_")+"_tpl.js"},tn=function(e){return"Contemplate_"+e.replace(_t,"_")+"_Cached"},nn=function(e,t){yt();var n,r,i=Qt(jt(Mt(e),t)),u={};r=dt?mn(null,1):mn({FCODE:Dt("__p__ += '"+i[0]+"';",0)},2);for(n in i[1])u[n]=new Function("Contemplate,__i__",i[1][n]);return[new Function("Contemplate,__i__",r),u]},rn=function(e,t,n,r){yt();var i,u,o,a,l,c=Qt(jt(Mt(e),r));a=[];for(o in c[1])l=V+ln({BLOCKNAME:o,BLOCKMETHODNAME:o,BLOCKMETHODCODE:Dt(c[1][o],1)}),a.push(l);a=a.length?V+"_blocks = { "+V+Dt(a.join(","+V),1)+V+"};"+V:"",dt?(i="this.setParent( '"+dt+"' );",u=vn(null,1)):(i="",u=vn({RCODE:Dt("__p__ += '"+c[0]+"';",0)},2));var s;s=J?J:"";var f=an({CLASSNAME:n,TPLID:e,PREFIXCODE:s,PARENTCODE:Dt(i,2),BLOCKS:Dt(a,2),RENDERCODE:Dt(u,4)});return on(t,f)},un=function(e,t){if(t=t||{},$[e]){var n=nn(e,t.separators),r=On(h,e,n[0]).setBlocks(n[1]);return dt&&r.setParent(h.tpl(dt)),r}if(y||(R=h.CACHE_TO_DISK_NONE),!0!==t.autoUpdate&&h.CACHE_TO_DISK_NOUPDATE===R){var i=en(e),u=tn(e);if(N(i)||rn(e,i,u,t.separators),N(i)){var o=require(i)(h),r=(new o).setId(e);return r}return null}if(!0===t.autoUpdate||h.CACHE_TO_DISK_AUTOUPDATE===R){var i=en(e),u=tn(e);if(N(i)){var a=j(i),l=j(K[e]);a.mtime.getTime()<=l.mtime.getTime()&&rn(e,i,u,t.separators)}else rn(e,i,u,t.separators);if(N(i)){var o=require(i)(h),r=(new o).setId(e);return r}return null}var n=nn(e,t.separators),r=On(h,e,n[0]).setBlocks(n[1]);return dt&&r.setParent(h.tpl(dt)),r},on=function(e,t,n){return n?(M(e,t,{encoding:h.ENCODING},function(e){n(!e)}),void 0):w(e,t,{encoding:h.ENCODING})},an=function(e){var t=wt;return[e.PREFIXCODE,t("","!function (root, moduleName, moduleDefinition) {","","    //","    // export the module","","    // node, CommonJS, etc..","    if ( 'object' == typeof(module) && module.exports ) module.exports = moduleDefinition();","","    // AMD, etc..","    else if ( 'function' == typeof(define) && define.amd ) define( moduleDefinition );","","    // browser, etc..","    else root[ moduleName ] = moduleDefinition();","","","}(this, '"),e.CLASSNAME,t("', function( ) {",'   "use strict";',"   return function( Contemplate ) {","   /* Contemplate cached template '"),e.TPLID,t("' */","   /* quasi extends main Contemplate class */","   ","   /* constructor */","   function "),e.CLASSNAME,t("(id)","   {","       /* initialize internal vars */","       var _parent = null, _blocks = null;","       ","       this.id = id;","       this.data = null;","       ","       ","       /* tpl-defined blocks render code starts here */",""),e.BLOCKS,t("","       /* tpl-defined blocks render code ends here */","       ","       /* template methods */","       ","       this.setId = function(id) {","           if ( id ) this.id = id;","           return this;","       };","       ","       this.setParent = function(parent) {","           if ( parent )","           {","               if ( parent.substr )","                   _parent = Contemplate.tpl( parent );","               else","                   _parent = parent;","           }","           return this;","       };","       ","       /* render a tpl block method */","       this.renderBlock = function(block, __i__) {","           if ( !__i__ ) __i__ = this;","           if ( _blocks && _blocks[block] ) return _blocks[block](__i__);","           else if ( _parent ) return _parent.renderBlock(block, __i__);","           return '';","       };","       ","       /* tpl render method */","       this.render = function(data, __i__) {","           if ( !__i__ ) __i__ = this;","           var __p__ = '';","           if ( _parent )","           {","               __p__ = _parent.render(data, __i__);","           }","           else","           {","               /* tpl main render code starts here */",""),e.RENDERCODE,t("","               /* tpl main render code ends here */","           }","           this.data = null;","           return __p__;","       };","       ","       /* parent tpl assign code starts here */",""),e.PARENTCODE,t("","       /* parent tpl assign code ends here */","   };","   ","   ","    // export it","    return "),e.CLASSNAME,t(";","    };","});","")].join("")},ln=function(e){var t=wt;return[t("","/* tpl block render method for block '"),e.BLOCKNAME,t("' */","'"),e.BLOCKMETHODNAME,t("': function(__i__) {",""),e.BLOCKMETHODCODE,t("","}","")].join("")},cn=function(e){var t=wt;return[t("","var __p__ = '';",""),e.BLOCKCODE,t("","return __p__;","")].join("")},sn=function(e){var t=wt;return[t("","if ( "),e.IFCOND,t(" )","{","")].join("")},fn=function(e){var t=wt;return[t("","}","else if ( "),e.ELIFCOND,t(" )","{","")].join("")},dn=function(){var e=wt;return e("","}","else","{","")},pn=function(){var e=wt;return e("","}","")},_n=function(e){var t=wt;return[t("","var "),e._O," = ",e.O,t(";","if ( "),e._O," && Object.keys(",e._O,t(").length )","{","   var "),e._K,t(";","   for ( "),e._K," in ",e._O,t(" )","   {","       if ( Contemplate.hasOwn("),e._O,", ",e._K,t(") )","       {","          "),e.ASSIGN1,t("","          "),e.ASSIGN2,t("","       ","")].join("")},gn=function(){var e=wt;return e("","       }","   }","}","else","{  ","")},hn=function(e,t){var n=wt;return 1===t?n("","       }","   }","}",""):n("","}","")},mn=function(e,t){var n=wt;return 1===t?"return '';":[n("","var __p__ = '';",""),e.FCODE,n("","return __p__;","")].join("")},vn=function(e,t){var n=wt;return 1===t?"__p__ = '';":[n("","__i__.data = Contemplate.data( data );",""),e.RCODE,n("","")].join("")},On=function(e,t,n){var r=function(t,n){var r=null,i=null,u=null;this.id=null,this.data=null,t&&(this.id=t,r=n),this.setId=function(e){return e&&(this.id=e),this},this.setParent=function(t){return t&&(i=t.substr?e.tpl(t):t),this},this.setRenderFunction=function(e){return r=e,this},this.setBlocks=function(t){return u||(u={}),u=e.merge(u,t),this},this.renderBlock=function(t,n){return n||(n=this),u&&u[t]?u[t](e,n):i?i.renderBlock(t,n):""},this.render=function(t,n){var u="";return n||(n=this),i?u=i.render(t,n):r&&(n.data=e.data(t),u=r(e,n)),this.data=null,u}};return new r(t,n)};return h={VERSION:m,CACHE_TO_DISK_NONE:0,CACHE_TO_DISK_AUTOUPDATE:2,CACHE_TO_DISK_NOUPDATE:4,ENCODING:"utf8",init:function(){L||(Q=[],Et.specials=new RegExp("[\\n\\r\\v\\t]","g"),Et.replacements=new RegExp("\\t[ ]*(.*?)[ ]*\\v","g"),Et.controls=new RegExp("\\t[ ]*%("+Ct.join("|")+")\\b[ ]*\\((.*)\\)","g"),Et.controls2=new RegExp("%("+Ct.join("|")+")\\b[ ]*\\((.*)\\)","g"),Et.functions=new RegExp("%("+bt.join("|")+")\\b","g"),X=W,q="'; "+V,z=V+"__p__ += '",L=!0)},addPlugin:function(e,t){e&&t&&(Tt[e]=!0,h["plugin_"+e]=t)},setPrefixCode:function(e){e&&(J=""+e)},setLocaleStrings:function(e){x=h.merge(x,e)},clearLocaleStrings:function(){x={}},setPlurals:function(e){if(e){for(var t in e)null==e[t]&&(e[t]=t+"s");U=h.merge(U,e)}},clearPlurals:function(){U={}},setTemplateSeparators:function(e){e&&(e.left&&(G=""+e.left),e.right&&(Y=""+e.right))},setPreserveLines:function(e){arguments.length<1&&(e=!0),X=e?W:""},setCacheDir:function(e){F=f(e,"/")+"/"},setCacheMode:function(e){R=y?e:h.CACHE_TO_DISK_NONE},setSyncMode:function(e){P=!e},clearCache:function(e){H={},e&&(B={})},add:function(e,t){if("object"==typeof e){for(var n in e)A(e[n])&&(e[n][0]&&($[n]=e[n][0]),delete e[n]);K=h.merge(K,e)}else e&&t&&(K[e]=t)},addInline:function(e,t){"object"==typeof e?$=h.merge($,e):e&&t&&($[e]=t)},tpl:function(e,t,n){n=Nt({autoUpdate:!1,refresh:!1,escape:!0,separators:null},n),Z=!1===n.escape?!1:!0,(n.refresh||!H[e])&&(H[e]=un(e,n));var r=H[e];return t&&"object"==typeof t?r.render(t):r},html:function(e){return n(e,"ENT_COMPAT","UTF-8")},url:r,count:i,haskey:function(t){var n=C(t);if(!t||"[object Array]"!=n&&"[object Object]"!=n)return!1;var r,i,u,o=T(arguments);for(o.shift(),r=o.length,u=t,i=0;r>i;i++){if(e===u[o[i]])return!1;u=u[o[i]]}return!0},q:function(e){return"'"+e+"'"},dq:function(e){return'"'+e+'"'},s:function(e){return String(""+e)},n:function(e){return parseInt(e,10)},f:function(e){return parseFloat(e,10)},addslashes:function(e){return(e+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")},stripslashes:function(e){return(e+"").replace(/\\(.?)/g,function(e,t){switch(t){case"\\":return"\\";case"0":return"\x00";case"":return"";default:return t}})},concat:function(){return T(arguments).join("")},trim:d,ltrim:s,rtrim:f,ucfirst:function(e){return e[0].toUpperCase()+e.substr(1)},lcfirst:function(e){return e[0].toLowerCase()+e.substr(1)},lowercase:function(e){return e.toLowerCase()},uppercase:function(e){return e.toUpperCase()},camelcase:function(e,t,n){return t=t||"_",n?e.split(t).map(h.ucfirst).join(""):h.lcfirst(e.split(t).map(h.ucfirst).join(""))},snakecase:function(e,t){return t=t||"_",e.replace(/([A-Z])/g,t+"$1").toLowerCase()},sprintf:c,time:p,date:function(e,t){return t||(t=p()),_(e,t)},ldate:function(e,t){return t||(t=p()),g(x,e,t)},locale:function(e){return b(x,e)?x[e]:e},pluralise:function(e,t){return U[e]?1!==t?U[e]:e:e},uuid:function(e){return[e||"UUID",++pt,p()].join("_")},htmltable:function(e,t){e=h.merge({},e),t=h.merge({},t||{});var n,r,i,o,c,s,f,d,p,_="",g="",m="",v="",O=[],E=!1;if(_="<table",t.id&&(_+=" id='"+t.id+"'"),t["class"]&&(_+=" class='"+t["class"]+"'"),t.style&&(_+=" style='"+t.style+"'"),t.data)for(n in t.data)h.hasOwn(t.data,n)&&(_+=" data-"+n+"='"+t.data[n]+"'");_+=">",g="",(t.header||t.footer)&&(g="<td>"+a(e).join("</td><td>")+"</td>"),m="",t.header&&(m="<thead><tr>"+g+"</tr></thead>"),v="",t.footer&&(v="<tfoot><tr>"+g+"</tr></tfoot>"),_+=m,O=[],c=l(e);for(r in c)if(h.hasOwn(c,r))for(s=c[r],u(s)||(s=[s]),f=l(s),i=0,o=f.length;o>i;i++)O[i]||(O[i]=new Array(o)),O[i][r]=f[i];for(d=t.odd?t.odd:"odd",p=t.even?t.even:"even",E=!1,r=0,o=O.length;o>r;r++)_+=E?"<tr class='"+d+"'><td>"+O[r].join("</td><td>")+"</td></tr>":"<tr class='"+p+"'><td>"+O[r].join("</td><td>")+"</td></tr>",E=!E;return O=null,_+=v,_+="</table>"},htmlselect:function(e,t){e=h.merge({},e),t=h.merge({},t||{});var n,r,i,a,l="";if(l="<select",t.multiple&&(l+=" multiple"),t.disabled&&(l+=" disabled='disabled'"),t.name&&(l+=" name='"+t.name+"'"),t.id&&(l+=" id='"+t.id+"'"),t["class"]&&(l+=" class='"+t["class"]+"'"),t.style&&(l+=" style='"+t.style+"'"),t.data)for(n in t.data)h.hasOwn(t.data,n)&&(l+=" data-"+n+"='"+t.data[n]+"'");l+=">",t.selected?(u(t.selected)||(t.selected=[t.selected]),t.selected=o(t.selected)):t.selected={},t.optgroups&&(u(t.optgroups)||(t.optgroups=[t.optgroups]),t.optgroups=o(t.optgroups));for(n in e)if(h.hasOwn(e,n))if(i=e[n],t.optgroups&&t.optgroups[n]){l+="<optgroup label='"+n+"'>";for(r in i)h.hasOwn(i,r)&&(a=i[r],t.use_key?a=r:t.use_value&&(r=a),l+=h.hasOwn(t.selected,r)?"<option value='"+r+"' selected='selected'>"+a+"</option>":"<option value='"+r+"'>"+a+"</option>");l+="</optgroup>"}else t.use_key?i=n:t.use_value&&(n=i),l+=t.selected[n]?"<option value='"+n+"' selected='selected'>"+i+"</option>":"<option value='"+n+"'>"+i+"</option>";return l+="</select>"},getTemplateContents:Mt,hasOwn:function(e,t){return e&&b(e,t)},merge:Nt,data:function(e){if(A(e))return e.slice();var t,n,r={};for(t in e)b(e,t)&&(n=t,r[n]=e[t]);return r}},h.now=h.time,h.l=h.locale,h.init(),h});